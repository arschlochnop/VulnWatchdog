# CVE-2020-7961

> 📦 该CVE有 **9** 个相关POC仓库

---

## POC #1

**来源**: [CVE-2020-7961-CrackerCat_CVE-2020-7961-Mass.md](../2020/CVE-2020-7961-CrackerCat_CVE-2020-7961-Mass.md)

## CVE-2020-7961-Liferay Portal反序列化RCE

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化漏洞

**影响应用:** Liferay Portal

**危害等级:** 高危，远程代码执行

**影响版本:** < 7.2.1 CE GA2

**利用条件:** 需要目标开启JSONWS服务且未打补丁

**POC 可用性:** 是

**投毒风险:** 5%

## 详情

CVE-2020-7961是Liferay Portal 7.2.1 CE GA2之前的版本中存在的一个反序列化漏洞。攻击者可以通过JSON Web Services (JSONWS)接口，发送特制的恶意请求，利用不安全的反序列化操作，执行任意代码。

**有效性评估：**

根据漏洞库信息、搜索引擎结果以及提供的漏洞利用代码，可以判断该漏洞的POC代码是有效的。搜索引擎结果中包含了Rapid7、Synacktiv等安全厂商的分析报告和PoC，表明该漏洞已经被广泛研究和利用。提供的代码库中包含rce.py和mass.py，分别用于单个目标和批量目标的漏洞利用，shell.py提供了简单的shell交互，说明漏洞利用已经比较成熟。

**投毒风险分析：**

虽然提供的代码库主要功能是实现RCE，但存在少量潜在的投毒风险。主要分析如下：

*   **隐蔽的恶意命令：** rce.py 脚本中的 `command = 'lollulzkid'` 变量看起来像一个占位符，但攻击者可能将其替换为更隐蔽和恶意的命令，例如下载和执行恶意脚本。
*   **依赖包风险：** 虽然脚本中使用的requests和colorama是常见的Python库，但如果攻击者发布修改后的版本，可能会引入恶意代码。
*   **Mass.py 批量攻击风险：** mass.py 脚本用于批量攻击，如果攻击者控制了受害者网络中的一台机器，可以利用该脚本快速传播恶意软件。
*   **Shell.py 简单webshell：** shell.py 在成功利用漏洞后，能建立简单webshell，攻击者可进行恶意操作。

综合评估，投毒风险较低，约为5%，主要来自替换命令、使用恶意依赖包以及批量攻击带来的扩大影响的可能性。

**利用方式分析：**

1.  **漏洞触发点：** 该漏洞通过Liferay Portal的`/api/jsonws/invoke`端点触发，利用JSONWS服务。
2.  **利用过程：** 攻击者发送包含恶意序列化数据的POST请求到`/api/jsonws/invoke`。恶意序列化数据通常包含一个精心构造的Java对象，该对象在反序列化时会执行任意代码。
3.  **RCE实现：** 提供的代码使用`com.mchange.v2.c3p0.WrapperConnectionPoolDataSource`类以及`org.apache.commons.collections.functors.ChainedTransformer`等类构造恶意序列化数据，从而实现远程代码执行。
4.  **POC使用：**
    *   `rce.py`：针对单个目标URL，发送包含恶意序列化数据的POST请求。
    *   `mass.py`：批量利用，从文件中读取目标URL列表，然后调用`rce.py`对每个目标进行攻击。
    *   `shell.py`:  提供简单的shell访问界面。

**项目地址:** [CrackerCat/CVE-2020-7961-Mass](https://github.com/CrackerCat/CVE-2020-7961-Mass)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

## POC #2

**来源**: [CVE-2020-7961-ShutdownRepo_CVE-2020-7961.md](../2020/CVE-2020-7961-ShutdownRepo_CVE-2020-7961.md)

## CVE-2020-7961 - Liferay Portal 反序列化远程代码执行

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化漏洞

**影响应用:** Liferay Portal

**危害等级:** 高危，可能导致远程代码执行

**影响版本:** 7.2.1 CE GA2之前版本

**利用条件:** 需要目标系统运行Liferay Portal，且存在可访问的JSON Web Services (JSONWS)接口。

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2020-7961 是 Liferay Portal 中存在的一个反序列化漏洞，攻击者可以通过 JSON Web Services (JSONWS) 接口发送恶意序列化数据，从而在目标系统上执行任意代码。根据漏洞库信息，该漏洞影响 7.2.1 CE GA2 之前的版本。搜索引擎结果也证实了该漏洞的存在和严重性，并提供了相关的利用信息和PoC。提供的Python POC脚本通过枚举目标系统的 JSONWS 接口，查找类型为 java.lang.Object 的输入参数，这些参数可能存在反序列化漏洞。脚本会尝试利用 /api/jsonws/invoke 接口发送恶意payload，以执行指定的命令。虽然脚本的主要目的是利用漏洞，但存在潜在的投毒风险，例如，攻击者可以在payload中包含恶意代码，导致受害者在测试或使用该脚本时意外执行恶意操作。 投毒风险评估为10%，因为需要用户手动配置目标和命令, 不会自动执行恶意代码。

**项目地址:** [ShutdownRepo/CVE-2020-7961](https://github.com/ShutdownRepo/CVE-2020-7961)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

## POC #3

**来源**: [CVE-2020-7961-mzer0one_CVE-2020-7961-POC.md](../2020/CVE-2020-7961-mzer0one_CVE-2020-7961-POC.md)

## CVE-2020-7961-Liferay Portal-反序列化RCE

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化远程代码执行

**影响应用:** Liferay Portal

**危害等级:** 高危，可能导致远程代码执行和系统完全控制

**影响版本:** 7.2.1 CE GA2之前版本

**利用条件:** 需要目标Liferay Portal实例开启JSON Web Services (JSONWS)且网络可达。

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2020-7961是Liferay Portal 7.2.1 CE GA2之前版本中的一个反序列化漏洞，攻击者可以通过向JSON Web Services (JSONWS)发送特制的请求，利用Java反序列化漏洞执行任意代码。 

**有效性：** 根据漏洞库信息、搜索结果以及提供的POC代码，此漏洞的利用是有效的。搜索结果中包含多个关于CVE-2020-7961的描述和利用方式，包括Rapid7的漏洞数据库、Synacktiv的PoC分析、以及其他漏洞报告和分析文章。提供的POC代码包含一个python脚本(poc.py)和一个Java类(LifExp.java)，用于利用此漏洞。

**投毒风险：** 提供的POC代码中，`LifExp.java`的作用是执行计算器程序，这是一个常见的PoC验证方式，用来确认代码是否能够被执行。`poc.py`脚本用于发送包含恶意序列化数据的请求。该仓库中并未发现作者隐藏的恶意代码，因此投毒风险为0%。

**利用方式：**
1.  编译恶意Java类：`javac LifExp.java`， 生成 `LifExp.class` 文件。
2.  运行python脚本：`python poc.py -t <target_host:port> -u api/jsonws`。
3.  `poc.py`会启动一个简单的HTTP服务器，用于提供编译后的Java类文件 (`LifExp.class`)。
4.  攻击者通过构造恶意的JSONWS请求，将payload发送到目标Liferay Portal服务器。
5.  Liferay Portal反序列化接收到的恶意数据，导致`LifExp.class`中的静态代码块被执行，从而实现远程代码执行。
6.  默认的 `LifExp.java` 示例代码会执行计算器程序，在实际利用中可以修改为执行其他恶意命令。

**项目地址:** [mzer0one/CVE-2020-7961-POC](https://github.com/mzer0one/CVE-2020-7961-POC)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

## POC #4

**来源**: [CVE-2020-7961-neverhavenamee_CVE-2020-7961.md](../2020/CVE-2020-7961-neverhavenamee_CVE-2020-7961.md)

## CVE-2020-7961: Liferay Portal 反序列化导致远程代码执行

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化漏洞

**影响应用:** Liferay Portal

**危害等级:** 高危，远程代码执行

**影响版本:** < 7.2.1 CE GA2

**利用条件:** 需要能够访问Liferay Portal的JSONWS接口

**POC 可用性:** 是

**投毒风险:** 5%

## 详情

CVE-2020-7961 存在于 Liferay Portal 7.2.1 CE GA2 之前的版本中，是一个反序列化漏洞。攻击者可以通过 JSON Web Services (JSONWS) 接口，特别是 `/api/jsonws/invoke` 端点，发送恶意构造的序列化数据，从而导致远程代码执行。

**有效性：**

提供的PoC代码描述了漏洞的利用方法，通过构造包含恶意序列化数据的 `defaultData` 参数，可以触发反序列化漏洞。多个搜索结果（例如Rapid7, Synacktiv, Wiz.io, 0xweb01.medium.com)确认了该漏洞的存在以及利用方式，因此PoC代码被认为是有效的。

**投毒风险：**

PoC代码本身只是描述了漏洞的利用过程，主要是通过构造恶意的HTTP POST请求。从代码内容来看，主要的风险在于利用该漏洞进行攻击，而不是代码本身包含恶意payload。该文档更侧重于原理分析和利用方法讲解。投毒风险较低，但不能完全排除（例如在实际利用时，攻击者可能会使用混淆的payload）。评估投毒风险为5%，主要考虑到以下几点：

*   PoC 代码主要展示了漏洞利用的原理和方法，而非直接可执行的后门代码。
*   实际的攻击 payload 需要根据目标环境进行定制。
*   代码仓库中提供的更多是漏洞分析文档，而不是直接运行的攻击脚本。
*   仍然需要安全人员 review 所有代码，避免代码被植入恶意逻辑。

**利用方式：**

1.  **确定目标：** 找到运行 Liferay Portal 且版本低于 7.2.1 CE GA2 的实例。
2.  **身份验证：** 理论上此漏洞可以未经身份验证利用，但某些情况下可能需要有效的 `p_auth` token。
3.  **构造请求：** 构造一个 HTTP POST 请求到 `/api/jsonws/invoke` 端点。
4.  **设置参数：** 在请求体中设置以下参数：
    *   `cmd`: 包含要调用的 JSONWS 方法，例如 `{"/expandocolumn/update-column":{}}`。
    *   `p_auth` (如果需要): 有效的身份验证 token。
    *   `formDate`: 当前时间戳。
    *   `columnId`, `name`, `type`: 这些参数是 `/expandocolumn/update-column` 方法需要的，需要设置。
    *   `defaultData`: 这是一个关键参数，需要设置为包含恶意序列化数据的对象。例如，可以使用 `com.mchange.v2.c3p0.WrapperConnectionPoolDataSource` 类，并设置其 `userOverridesAsString` 属性为恶意的序列化数据。
5.  **发送请求：** 发送构造好的 HTTP POST 请求。
6.  **执行代码：** 如果漏洞利用成功，恶意序列化数据将被反序列化，从而在服务器上执行任意代码。

总而言之，CVE-2020-7961 是一个严重的反序列化漏洞，允许未经授权的攻击者在 Liferay Portal 服务器上执行任意代码。应该尽快升级到受影响版本之后的版本。

**项目地址:** [neverhavenamee/CVE-2020-7961](https://github.com/neverhavenamee/CVE-2020-7961)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

## POC #5

**来源**: [CVE-2020-7961-pashayogi_CVE-2020-7961-Mass.md](../2020/CVE-2020-7961-pashayogi_CVE-2020-7961-Mass.md)

## CVE-2020-7961-Liferay Portal 反序列化RCE

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化RCE

**影响应用:** Liferay Portal

**危害等级:** 高危，可导致远程代码执行

**影响版本:** < 7.2.1 CE GA2

**利用条件:** 需要能够访问Liferay Portal的JSON Web Services (JSONWS)接口

**POC 可用性:** 是

**投毒风险:** 99%

## 详情

CVE-2020-7961 是一个 Liferay Portal 中存在的反序列化漏洞，影响版本低于 7.2.1 CE GA2。攻击者可以通过 JSON Web Services (JSONWS) 接口发送恶意的序列化数据，导致远程代码执行。根据提供的漏洞利用代码，该代码仓库是一个钓鱼仓库，诱导用户购买密码。因此，该仓库存在极高的投毒风险。漏洞利用方式是通过向 `/api/jsonws/invoke` 发送POST请求，请求体中包含精心构造的恶意序列化数据。 攻击者可以利用该漏洞在服务器上执行任意代码，完全控制受影响的系统。搜索引擎结果确认了漏洞的存在，并提供了利用方式的线索，以及针对Rapid7, Wiz, Synacktiv等安全厂商的分析报告。

**项目地址:** [pashayogi/CVE-2020-7961-Mass](https://github.com/pashayogi/CVE-2020-7961-Mass)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

## POC #6

**来源**: [CVE-2020-7961-shacojx_GLiferay-CVE-2020-7961-golang.md](../2020/CVE-2020-7961-shacojx_GLiferay-CVE-2020-7961-golang.md)

## CVE-2020-7961-Liferay-Deserialization

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化漏洞

**影响应用:** Liferay Portal

**危害等级:** 高危，允许远程代码执行

**影响版本:** < 7.2.1 CE GA2

**利用条件:** 需要网络访问Liferay Portal的JSONWS接口

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2020-7961是Liferay Portal 7.2.1 CE GA2之前的版本中存在的一个反序列化漏洞，攻击者可以通过JSON Web Services (JSONWS)接口发送恶意构造的序列化数据，从而执行任意代码。漏洞利用方式如下：

1.  **漏洞原理：** Liferay Portal的JSONWS接口在处理用户请求时，没有对传入的参数进行充分的校验，导致攻击者可以发送恶意的序列化数据。
2.  **利用方式：**
    *   攻击者首先需要找到Liferay Portal的JSONWS接口，通常位于`/api/jsonws/invoke`。
    *   然后，攻击者需要构造一个包含恶意代码的序列化对象，例如利用`ysoserial`等工具生成。
    *   将序列化对象作为参数，通过POST请求发送到JSONWS接口。
    *   Liferay Portal在反序列化该对象时，会执行其中的恶意代码，从而导致远程代码执行。
3.  **POC有效性：** 提供的Go代码通过扫描URL列表，向目标发送包含特定Payload的POST请求到`/api/jsonws/invoke`，然后检查响应内容是否包含"java.lang.IllegalStateException"和"Unable to deserialize object"字符串。如果包含，则认为目标存在CVE-2020-7961漏洞。
4.  **投毒风险：**  
    *  README.md只包含漏洞描述，无风险。
    *  `liferay.go` 存在一定的投毒风险。代码会从指定的URL列表中读取URL，并尝试访问`/api/jsonws/invoke`。虽然核心逻辑是检测漏洞，但攻击者可能会在提供的URL列表中包含指向恶意服务器的链接，或者修改检测逻辑本身，使其在某些情况下执行恶意操作。此外，`checkFile` 函数中对错误信息的判断如果被恶意修改，可能会产生误报，引导使用者攻击不存在漏洞的目标。
    * 风险比例评估为 10%。主要是因为代码逻辑较为简单直接，核心目的是漏洞检测，但仍然存在被利用进行信息收集或误导性攻击的可能性。
5.  **搜索引擎结果补充：** 搜索结果提供了漏洞的详细描述、利用方式、缓解措施等信息，确认了漏洞的存在和危害。

**项目地址:** [shacojx/GLiferay-CVE-2020-7961-golang](https://github.com/shacojx/GLiferay-CVE-2020-7961-golang)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

## POC #7

**来源**: [CVE-2020-7961-shacojx_LifeRCEJsonWSTool-POC-CVE-2020-7961-Gui.md](../2020/CVE-2020-7961-shacojx_LifeRCEJsonWSTool-POC-CVE-2020-7961-Gui.md)

## CVE-2020-7961 Liferay Portal JSONWS反序列化RCE

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化漏洞

**影响应用:** Liferay Portal

**危害等级:** 高危，远程代码执行

**影响版本:** 7.2.1 CE GA2之前版本

**利用条件:** 需要网络访问，目标开启JSON Web Services (JSONWS)

**POC 可用性:** 是

**投毒风险:** 5%

## 详情

CVE-2020-7961 漏洞是 Liferay Portal 7.2.1 CE GA2 之前版本中存在的一个反序列化漏洞。攻击者可以通过构造恶意的序列化数据，通过JSON Web Services (JSONWS)接口发送给Liferay服务器，导致服务器执行任意代码。

**有效性：**
根据漏洞库信息和搜索结果，此漏洞是真实存在的，并且已经有公开的POC代码。Rapid7、Synacktiv等安全厂商都对此漏洞进行了分析和验证。

**投毒风险：**
提供的POC代码是一个Maven项目，包含以下文件：
*   `README.md`: 包含工具下载链接。
*   `assembly.xml`: Maven Assembly Plugin的描述文件，用于打包包含依赖的jar包。
*   `nbactions.xml`: NetBeans IDE的配置文件，定义了运行、调试和profile actions。
*   `pom.xml`: Maven项目配置文件，定义了项目依赖和构建配置，okhttp3为网络请求库，是比较常规的依赖。
*   `src/main/java/Tool/LRCETool.form`: 图形化界面的描述文件，这暗示该POC很可能是一个GUI工具。

查看所有文件，并未发现存在恶意代码，该POC的作者创建图形化界面,降低了攻击门槛，方便用户使用。考虑到代码的复杂性以及GUI工具可能存在的隐藏操作，存在很小的投毒风险，例如搜集用户信息等，可能性约为5%。

**利用方式：**
根据漏洞描述，攻击者可以通过以下步骤利用该漏洞：
1.  确定目标Liferay Portal版本小于 7.2.1 CE GA2。
2.  构造包含恶意序列化数据的JSON请求。
3.  将该JSON请求发送到Liferay Portal的JSONWS接口（通常是 `/api/jsonws/invoke`）。
4.  Liferay Portal反序列化恶意数据，导致任意代码执行。

Packet Storm Security网站上提供了相关的利用代码和Payload，hackerone也有利用此漏洞的报告。提供的代码仓库像是简化了利用过程，提供了GUI工具，更加方便攻击。

**项目地址:** [shacojx/LifeRCEJsonWSTool-POC-CVE-2020-7961-Gui](https://github.com/shacojx/LifeRCEJsonWSTool-POC-CVE-2020-7961-Gui)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

## POC #8

**来源**: [CVE-2020-7961-shacojx_POC-CVE-2020-7961-Token-iterate.md](../2020/CVE-2020-7961-shacojx_POC-CVE-2020-7961-Token-iterate.md)

## CVE-2020-7961 Liferay Portal 反序列化RCE

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化RCE

**影响应用:** Liferay Portal

**危害等级:** 高危，允许远程攻击者执行任意代码

**影响版本:** 7.2.1 CE GA2之前版本

**利用条件:** 需要目标Liferay Portal实例开启JSON Web Services (JSONWS)

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2020-7961 存在于 Liferay Portal 7.2.1 CE GA2 之前的版本中，是一个反序列化漏洞。攻击者可以通过 JSON Web Services (JSONWS) 接口，发送特制的请求，其中包含恶意序列化的 Java 对象，导致服务器端执行任意代码。

**漏洞利用有效性：**
根据漏洞库信息、搜索引擎结果和提供的PoC代码，此漏洞的利用是有效的。多个来源都提到了该漏洞，并且存在公开的PoC。

**投毒风险分析：**
提供的PoC代码（poc.py）的主要功能是：
1.  获取`p_auth` token，如果获取失败则使用默认值。 
2.  构造包含恶意序列化对象的POST请求，利用`com.mchange.v2.c3p0.WrapperConnectionPoolDataSource` 类来执行任意命令。

检查`poc.py`发现了设置cmd的地方是`cmd2`和`defaultData:com.mchange.v2.c3p0.WrapperConnectionPoolDataSource`,其中`cmd2`应该没什么用,重点关注`defaultData`部分的反序列化攻击.

代码中使用了硬编码的URL `'https://site-demo.com/api/jsonws/invoke'`，如果未修改就使用此PoC，可能导致攻击无效。`POC-CVE-2020-7961-Token-iterate`这个名字来看，原始作者应该是尝试了迭代token的方式，但是最终的PoC来看，只是简单获取token，或者使用写死的token，所以存在一定的局限性。

因此，PoC **可能存在的投毒风险**在于：
*   **硬编码的URL：** 如果攻击者不修改URL，攻击将无效，但这不是恶意投毒，而可能是疏忽。
*   **依赖外部服务：** 如果`site-demo.com`被攻击者控制，可能导致PoC执行恶意代码，但此风险较低。
*  **反序列化对象本身可能隐藏更深层次的后门** 这部分需要更深入的分析，这里仅作推测。

综合评估，投毒的概率较低，大约为10%。 主要的风险在于使用者没有修改目标URL导致无法攻击。

**漏洞利用方式：**
1.  攻击者首先需要访问Liferay Portal的JSONWS接口(`/api/jsonws/invoke`)。
2.  攻击者从网页中提取或使用默认的`p_auth` token。
3.  攻击者构造一个包含恶意序列化数据的POST请求，通常利用`com.mchange.v2.c3p0.WrapperConnectionPoolDataSource`或其他易受攻击的类，来执行任意命令。
4.  服务器反序列化该对象时，将执行攻击者指定的恶意代码，从而导致远程代码执行。

**项目地址:** [shacojx/POC-CVE-2020-7961-Token-iterate](https://github.com/shacojx/POC-CVE-2020-7961-Token-iterate)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

## POC #9

**来源**: [CVE-2020-7961-thelostworldFree_CVE-2020-7961-payloads.md](../2020/CVE-2020-7961-thelostworldFree_CVE-2020-7961-payloads.md)

## CVE-2020-7961-Liferay Portal 反序列化RCE

**漏洞编号:** CVE-2020-7961

**漏洞类型:** 反序列化远程代码执行

**影响应用:** Liferay Portal

**危害等级:** 高危，可能导致远程代码执行，服务器完全控制

**影响版本:** < 7.2.1 CE GA2

**利用条件:** 需要网络访问Liferay Portal的JSONWS接口

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2020-7961是Liferay Portal 7.2.1 CE GA2之前版本中存在的一个反序列化漏洞，攻击者可以通过JSON Web Services (JSONWS)接口，发送恶意的序列化数据，导致服务器端执行任意代码。

**有效性：**

根据漏洞信息、搜索结果和漏洞利用代码，该漏洞的POC代码是有效的。多个来源（Rapid7、Synacktiv、NVD、Wiz.io、Medium）都确认了该漏洞的存在和利用方法。

**投毒风险：**

查看提供的漏洞利用代码，尤其是`LifExp.java`和`Liferay_Windows_payload.txt`、`Liferay_linux_payload.txt`，发现其目的是执行系统命令并回传结果。例如，Windows payload使用`certutil.exe`将`whoami`命令的结果发送到Burp Collaborator，Linux payload使用`curl`发送`pwd`命令的结果。

`LifExp.java`文件本身为空，需要用户自己添加恶意代码，这增加了用户引入恶意代码的风险。`poc.py`本身只是负责发送payload。仓库其他文件中，README.md只是提供使用说明，并没有可疑代码。

投毒风险评估：
*   代码编写者可能在`LifExp.java`中提供默认的payload，该payload看似无害，但可能在特定环境下触发恶意行为。但目前提供的`LifExp.java`是空的，不存在这个风险
*   Payload文件的目的是执行命令并将结果发送到指定的服务器。如果作者控制了Burp Collaborator，可以收集受害者的信息。

因此，仓库中存在一定的投毒风险，主要是通过`LifExp.java`或Payload文件本身，但风险较低，判断为10%。

**利用方式：**

1.  **确定目标Liferay Portal的版本小于7.2.1 CE GA2。**
2.  **构造恶意的Java序列化对象。**  这通常涉及到使用Java反序列化漏洞利用工具，例如ysoserial，生成一个包含恶意命令的序列化对象。利用代码中的`LifExp.java`是一个示例，需要用户自行填充恶意payload。
3.  **修改Payload文件，将反弹shell的地址修改为自己的服务器地址**，以便接受反弹的shell。
4.  **将编译好的恶意class文件作为http服务器的文件。**
5.  **通过JSONWS接口发送包含恶意序列化对象的请求。**  请求的URL通常是`/api/jsonws/invoke`。`poc.py`脚本用于自动化这个过程，它会发现目标服务器上的JSONWS接口，并构造包含恶意payload的POST请求。
6.  **服务器端反序列化该对象，导致恶意代码执行。**  成功利用后，攻击者就可以在服务器上执行任意命令，例如添加用户、安装后门等。

总而言之，攻击者需要首先编译恶意类，设置payload，然后通过`poc.py`脚本向目标服务器发送请求。

**项目地址:** [thelostworldFree/CVE-2020-7961-payloads](https://github.com/thelostworldFree/CVE-2020-7961-payloads)

**漏洞详情:** [CVE-2020-7961](https://nvd.nist.gov/vuln/detail/CVE-2020-7961)

---

