# CVE-2024-45496

> 📦 该CVE有 **3** 个相关POC仓库

---

## POC #1

**来源**: [CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md](../2024/CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md)

# CVE-2024-45496

> 📦 该CVE有 **3** 个相关POC仓库

---

## POC #1

**来源**: [CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md](../2024/CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md)

# CVE-2024-45496

> 📦 该CVE有 **3** 个相关POC仓库

---

## POC #1

**来源**: [CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md](../2024/CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md)

# CVE-2024-45496

> 📦 该CVE有 **3** 个相关POC仓库

---

## POC #1

**来源**: [CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md](../2024/CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md)

# CVE-2024-45496

> 📦 该CVE有 **3** 个相关POC仓库

---

## POC #1

**来源**: [CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md](../2024/CVE-2024-45496-0xSigSegv0x00_cve-2024-45496.md)

## CVE-2024-45496-Openshift节点权限提升

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** Openshift

**危害等级:** 高危，可导致节点完全控制

**影响版本:** 4.12.0 <= version <= 4.18.0

**利用条件:** 需要开发者级别的Openshift访问权限

**POC 可用性:** 否

**投毒风险:** 0%

## 详情

CVE-2024-45496 漏洞允许拥有开发者权限的攻击者通过构造恶意的 .gitconfig 文件，在构建过程中利用 git-clone 容器的特权安全上下文，执行任意命令，从而提升到节点权限。

**漏洞利用方式：**

1.  攻击者需要具有 Openshift 集群的开发者权限。
2.  攻击者创建一个包含恶意 `.gitconfig` 文件的 Git 仓库。
3.  攻击者创建一个 Openshift 构建配置，该配置从包含恶意 `.gitconfig` 文件的 Git 仓库拉取代码。
4.  当构建运行时，`git-clone` 容器会以特权模式运行，并执行 `.gitconfig` 文件中的命令，从而允许攻击者在节点上执行任意代码。

**有效性评估：**

根据漏洞描述，该漏洞利用需要特定条件（开发者权限和受影响的 Openshift 版本）。提供的代码片段仅包含 Dockerfile 和 README.md 文件，缺少利用漏洞的关键 `.gitconfig` 文件。因此，提供的POC代码无效，无法直接利用该漏洞。

**投毒风险评估：**

提供的 Dockerfile 和 README.md 文件内容为空，因此不存在投毒代码。

**总结：**

CVE-2024-45496 是一个高危漏洞，攻击者可以利用它来提升 Openshift 节点的权限。虽然提供的代码片段不足以直接利用该漏洞，但攻击者可以根据漏洞描述构造恶意的 `.gitconfig` 文件进行攻击。

**项目地址:** [0xSigSegv0x00/cve-2024-45496](https://github.com/0xSigSegv0x00/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---

## POC #2

**来源**: [CVE-2024-45496-fatcatresearch_cve-2024-45496.md](../2024/CVE-2024-45496-fatcatresearch_cve-2024-45496.md)

## CVE-2024-45496-Openshift-controller-manager-Node Compromise

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** Openshift-controller-manager

**危害等级:** 高危，可能导致节点被完全控制

**影响版本:** 4.12.0 <= version <= 4.18.0

**利用条件:** 需要开发者权限

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2024-45496 是 OpenShift Container Platform 中存在的一个权限提升漏洞。攻击者利用开发者权限，可以通过构造恶意的 .gitconfig 文件，在构建过程中利用 git-clone 容器的特权安全上下文执行任意命令，最终导致 worker 节点被攻陷。

**漏洞利用方式：**

1.  攻击者拥有 OpenShift 的开发者权限。
2.  攻击者创建一个包含恶意 .gitconfig 文件的 Git 仓库。
3.  该 .gitconfig 文件包含在 git clone 过程中执行的命令。
4.  当 OpenShift 构建服务克隆该仓库时，git-clone 容器会执行 .gitconfig 文件中指定的恶意命令。
5.  由于 git-clone 容器具有特权安全上下文，这些命令在 worker 节点上以提升的权限执行，从而导致节点被攻陷。

**POC 代码分析：**

提供的 Dockerfile 用于演示漏洞，但它并没有直接包含恶意代码，而是设置 git 的全局 include.path 到一个固定的位置 `/etc/gitconfig/.gitconfig`。这个设置本身不是攻击，而是为攻击创造条件。攻击者需要能够控制或修改 `/etc/gitconfig/.gitconfig` 的内容，才能执行恶意代码。

Dockerfile 中后续的 git init 和 git status 只是为了触发 git 的配置读取。

最后，Dockerfile 会检查是否存在 `/tmp/configmap_seen` 文件，这似乎是为了验证配置是否被正确读取。如果文件不存在，说明配置读取失败，攻击可能无法成功。

**投毒风险分析：**

提供的 POC 代码本身没有包含任何直接执行恶意操作的代码，因此不存在直接的投毒风险。它仅仅是设置了一个 git 配置，并将命令执行依赖于外部的`/etc/gitconfig/.gitconfig` 文件，如果攻击者能够控制这个文件，就可以实现任意命令执行。


**项目地址:** [fatcatresearch/cve-2024-45496](https://github.com/fatcatresearch/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---

## POC #3

**来源**: [CVE-2024-45496-pwnc4t_cve-2024-45496.md](../2024/CVE-2024-45496-pwnc4t_cve-2024-45496.md)

## CVE-2024-45496-OpenShift节点权限提升

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** OpenShift Container Platform

**危害等级:** 高危，可能导致节点完全控制

**影响版本:** 4.12.0 <= 版本 <= 4.18.0

**利用条件:** 需要具有开发人员权限的OpenShift账户

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2024-45496 存在于 OpenShift Container Platform 的构建过程中。攻击者利用该漏洞，可以通过构造恶意的 .gitconfig 文件，在 git clone 过程中执行任意命令，从而提升在构建节点上的权限。 

**有效性：**
提供的 Dockerfile 配合漏洞描述有效，因为攻击者可以利用`git clone`操作中的`.gitconfig`文件执行恶意代码。Dockerfile 可以用于构建包含恶意 `.gitconfig` 文件的镜像，当该镜像在 OpenShift 中用于构建任务时，将触发漏洞，导致节点权限提升。

**投毒风险：**
仅从 Dockerfile 来看，投毒风险较低。但是仍然存在10%的风险。攻击者可能通过以下方式进行投毒：
1.  **构建过程中注入恶意代码：** 攻击者可能在 Dockerfile 中添加额外的指令，例如在构建过程中下载并执行恶意脚本。
2.  **利用基础镜像漏洞：** 如果 Dockerfile 基于存在已知漏洞的基础镜像，攻击者可能利用这些漏洞进行攻击。

需要进一步检查构建镜像的源代码和依赖项，才能更准确评估投毒风险。

**利用方式：**
1.  **创建包含恶意 .gitconfig 文件的 Git 仓库：** 攻击者创建一个包含 `.gitconfig` 文件的 Git 仓库，该文件包含在 git clone 过程中执行任意命令的配置。
2.  **创建 OpenShift 构建配置：** 攻击者创建一个 OpenShift 构建配置，该配置指定使用包含恶意 .gitconfig 文件的 Git 仓库作为构建源。
3.  **触发构建：** 攻击者触发 OpenShift 构建。在构建过程中，git clone 命令会读取恶意 .gitconfig 文件，并执行其中的命令，从而导致节点权限提升。
4.  **权限提升：** 成功利用该漏洞后，攻击者可以在构建节点上执行任意命令，例如安装后门、窃取敏感数据等。

**项目地址:** [pwnc4t/cve-2024-45496](https://github.com/pwnc4t/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---



---

## POC #2

**来源**: [CVE-2024-45496-fatcatresearch_cve-2024-45496.md](../2024/CVE-2024-45496-fatcatresearch_cve-2024-45496.md)

## CVE-2024-45496-Openshift-controller-manager-Node Compromise

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** Openshift-controller-manager

**危害等级:** 高危，可能导致节点被完全控制

**影响版本:** 4.12.0 <= version <= 4.18.0

**利用条件:** 需要开发者权限

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2024-45496 是 OpenShift Container Platform 中存在的一个权限提升漏洞。攻击者利用开发者权限，可以通过构造恶意的 .gitconfig 文件，在构建过程中利用 git-clone 容器的特权安全上下文执行任意命令，最终导致 worker 节点被攻陷。

**漏洞利用方式：**

1.  攻击者拥有 OpenShift 的开发者权限。
2.  攻击者创建一个包含恶意 .gitconfig 文件的 Git 仓库。
3.  该 .gitconfig 文件包含在 git clone 过程中执行的命令。
4.  当 OpenShift 构建服务克隆该仓库时，git-clone 容器会执行 .gitconfig 文件中指定的恶意命令。
5.  由于 git-clone 容器具有特权安全上下文，这些命令在 worker 节点上以提升的权限执行，从而导致节点被攻陷。

**POC 代码分析：**

提供的 Dockerfile 用于演示漏洞，但它并没有直接包含恶意代码，而是设置 git 的全局 include.path 到一个固定的位置 `/etc/gitconfig/.gitconfig`。这个设置本身不是攻击，而是为攻击创造条件。攻击者需要能够控制或修改 `/etc/gitconfig/.gitconfig` 的内容，才能执行恶意代码。

Dockerfile 中后续的 git init 和 git status 只是为了触发 git 的配置读取。

最后，Dockerfile 会检查是否存在 `/tmp/configmap_seen` 文件，这似乎是为了验证配置是否被正确读取。如果文件不存在，说明配置读取失败，攻击可能无法成功。

**投毒风险分析：**

提供的 POC 代码本身没有包含任何直接执行恶意操作的代码，因此不存在直接的投毒风险。它仅仅是设置了一个 git 配置，并将命令执行依赖于外部的`/etc/gitconfig/.gitconfig` 文件，如果攻击者能够控制这个文件，就可以实现任意命令执行。


**项目地址:** [fatcatresearch/cve-2024-45496](https://github.com/fatcatresearch/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---

## POC #3

**来源**: [CVE-2024-45496-pwnc4t_cve-2024-45496.md](../2024/CVE-2024-45496-pwnc4t_cve-2024-45496.md)

## CVE-2024-45496-OpenShift节点权限提升

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** OpenShift Container Platform

**危害等级:** 高危，可能导致节点完全控制

**影响版本:** 4.12.0 <= 版本 <= 4.18.0

**利用条件:** 需要具有开发人员权限的OpenShift账户

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2024-45496 存在于 OpenShift Container Platform 的构建过程中。攻击者利用该漏洞，可以通过构造恶意的 .gitconfig 文件，在 git clone 过程中执行任意命令，从而提升在构建节点上的权限。 

**有效性：**
提供的 Dockerfile 配合漏洞描述有效，因为攻击者可以利用`git clone`操作中的`.gitconfig`文件执行恶意代码。Dockerfile 可以用于构建包含恶意 `.gitconfig` 文件的镜像，当该镜像在 OpenShift 中用于构建任务时，将触发漏洞，导致节点权限提升。

**投毒风险：**
仅从 Dockerfile 来看，投毒风险较低。但是仍然存在10%的风险。攻击者可能通过以下方式进行投毒：
1.  **构建过程中注入恶意代码：** 攻击者可能在 Dockerfile 中添加额外的指令，例如在构建过程中下载并执行恶意脚本。
2.  **利用基础镜像漏洞：** 如果 Dockerfile 基于存在已知漏洞的基础镜像，攻击者可能利用这些漏洞进行攻击。

需要进一步检查构建镜像的源代码和依赖项，才能更准确评估投毒风险。

**利用方式：**
1.  **创建包含恶意 .gitconfig 文件的 Git 仓库：** 攻击者创建一个包含 `.gitconfig` 文件的 Git 仓库，该文件包含在 git clone 过程中执行任意命令的配置。
2.  **创建 OpenShift 构建配置：** 攻击者创建一个 OpenShift 构建配置，该配置指定使用包含恶意 .gitconfig 文件的 Git 仓库作为构建源。
3.  **触发构建：** 攻击者触发 OpenShift 构建。在构建过程中，git clone 命令会读取恶意 .gitconfig 文件，并执行其中的命令，从而导致节点权限提升。
4.  **权限提升：** 成功利用该漏洞后，攻击者可以在构建节点上执行任意命令，例如安装后门、窃取敏感数据等。

**项目地址:** [pwnc4t/cve-2024-45496](https://github.com/pwnc4t/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---



---

## POC #2

**来源**: [CVE-2024-45496-fatcatresearch_cve-2024-45496.md](../2024/CVE-2024-45496-fatcatresearch_cve-2024-45496.md)

## CVE-2024-45496-Openshift-controller-manager-Node Compromise

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** Openshift-controller-manager

**危害等级:** 高危，可能导致节点被完全控制

**影响版本:** 4.12.0 <= version <= 4.18.0

**利用条件:** 需要开发者权限

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2024-45496 是 OpenShift Container Platform 中存在的一个权限提升漏洞。攻击者利用开发者权限，可以通过构造恶意的 .gitconfig 文件，在构建过程中利用 git-clone 容器的特权安全上下文执行任意命令，最终导致 worker 节点被攻陷。

**漏洞利用方式：**

1.  攻击者拥有 OpenShift 的开发者权限。
2.  攻击者创建一个包含恶意 .gitconfig 文件的 Git 仓库。
3.  该 .gitconfig 文件包含在 git clone 过程中执行的命令。
4.  当 OpenShift 构建服务克隆该仓库时，git-clone 容器会执行 .gitconfig 文件中指定的恶意命令。
5.  由于 git-clone 容器具有特权安全上下文，这些命令在 worker 节点上以提升的权限执行，从而导致节点被攻陷。

**POC 代码分析：**

提供的 Dockerfile 用于演示漏洞，但它并没有直接包含恶意代码，而是设置 git 的全局 include.path 到一个固定的位置 `/etc/gitconfig/.gitconfig`。这个设置本身不是攻击，而是为攻击创造条件。攻击者需要能够控制或修改 `/etc/gitconfig/.gitconfig` 的内容，才能执行恶意代码。

Dockerfile 中后续的 git init 和 git status 只是为了触发 git 的配置读取。

最后，Dockerfile 会检查是否存在 `/tmp/configmap_seen` 文件，这似乎是为了验证配置是否被正确读取。如果文件不存在，说明配置读取失败，攻击可能无法成功。

**投毒风险分析：**

提供的 POC 代码本身没有包含任何直接执行恶意操作的代码，因此不存在直接的投毒风险。它仅仅是设置了一个 git 配置，并将命令执行依赖于外部的`/etc/gitconfig/.gitconfig` 文件，如果攻击者能够控制这个文件，就可以实现任意命令执行。


**项目地址:** [fatcatresearch/cve-2024-45496](https://github.com/fatcatresearch/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---

## POC #3

**来源**: [CVE-2024-45496-pwnc4t_cve-2024-45496.md](../2024/CVE-2024-45496-pwnc4t_cve-2024-45496.md)

## CVE-2024-45496-OpenShift节点权限提升

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** OpenShift Container Platform

**危害等级:** 高危，可能导致节点完全控制

**影响版本:** 4.12.0 <= 版本 <= 4.18.0

**利用条件:** 需要具有开发人员权限的OpenShift账户

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2024-45496 存在于 OpenShift Container Platform 的构建过程中。攻击者利用该漏洞，可以通过构造恶意的 .gitconfig 文件，在 git clone 过程中执行任意命令，从而提升在构建节点上的权限。 

**有效性：**
提供的 Dockerfile 配合漏洞描述有效，因为攻击者可以利用`git clone`操作中的`.gitconfig`文件执行恶意代码。Dockerfile 可以用于构建包含恶意 `.gitconfig` 文件的镜像，当该镜像在 OpenShift 中用于构建任务时，将触发漏洞，导致节点权限提升。

**投毒风险：**
仅从 Dockerfile 来看，投毒风险较低。但是仍然存在10%的风险。攻击者可能通过以下方式进行投毒：
1.  **构建过程中注入恶意代码：** 攻击者可能在 Dockerfile 中添加额外的指令，例如在构建过程中下载并执行恶意脚本。
2.  **利用基础镜像漏洞：** 如果 Dockerfile 基于存在已知漏洞的基础镜像，攻击者可能利用这些漏洞进行攻击。

需要进一步检查构建镜像的源代码和依赖项，才能更准确评估投毒风险。

**利用方式：**
1.  **创建包含恶意 .gitconfig 文件的 Git 仓库：** 攻击者创建一个包含 `.gitconfig` 文件的 Git 仓库，该文件包含在 git clone 过程中执行任意命令的配置。
2.  **创建 OpenShift 构建配置：** 攻击者创建一个 OpenShift 构建配置，该配置指定使用包含恶意 .gitconfig 文件的 Git 仓库作为构建源。
3.  **触发构建：** 攻击者触发 OpenShift 构建。在构建过程中，git clone 命令会读取恶意 .gitconfig 文件，并执行其中的命令，从而导致节点权限提升。
4.  **权限提升：** 成功利用该漏洞后，攻击者可以在构建节点上执行任意命令，例如安装后门、窃取敏感数据等。

**项目地址:** [pwnc4t/cve-2024-45496](https://github.com/pwnc4t/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---



---

## POC #2

**来源**: [CVE-2024-45496-fatcatresearch_cve-2024-45496.md](../2024/CVE-2024-45496-fatcatresearch_cve-2024-45496.md)

## CVE-2024-45496-Openshift-controller-manager-Node Compromise

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** Openshift-controller-manager

**危害等级:** 高危，可能导致节点被完全控制

**影响版本:** 4.12.0 <= version <= 4.18.0

**利用条件:** 需要开发者权限

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2024-45496 是 OpenShift Container Platform 中存在的一个权限提升漏洞。攻击者利用开发者权限，可以通过构造恶意的 .gitconfig 文件，在构建过程中利用 git-clone 容器的特权安全上下文执行任意命令，最终导致 worker 节点被攻陷。

**漏洞利用方式：**

1.  攻击者拥有 OpenShift 的开发者权限。
2.  攻击者创建一个包含恶意 .gitconfig 文件的 Git 仓库。
3.  该 .gitconfig 文件包含在 git clone 过程中执行的命令。
4.  当 OpenShift 构建服务克隆该仓库时，git-clone 容器会执行 .gitconfig 文件中指定的恶意命令。
5.  由于 git-clone 容器具有特权安全上下文，这些命令在 worker 节点上以提升的权限执行，从而导致节点被攻陷。

**POC 代码分析：**

提供的 Dockerfile 用于演示漏洞，但它并没有直接包含恶意代码，而是设置 git 的全局 include.path 到一个固定的位置 `/etc/gitconfig/.gitconfig`。这个设置本身不是攻击，而是为攻击创造条件。攻击者需要能够控制或修改 `/etc/gitconfig/.gitconfig` 的内容，才能执行恶意代码。

Dockerfile 中后续的 git init 和 git status 只是为了触发 git 的配置读取。

最后，Dockerfile 会检查是否存在 `/tmp/configmap_seen` 文件，这似乎是为了验证配置是否被正确读取。如果文件不存在，说明配置读取失败，攻击可能无法成功。

**投毒风险分析：**

提供的 POC 代码本身没有包含任何直接执行恶意操作的代码，因此不存在直接的投毒风险。它仅仅是设置了一个 git 配置，并将命令执行依赖于外部的`/etc/gitconfig/.gitconfig` 文件，如果攻击者能够控制这个文件，就可以实现任意命令执行。


**项目地址:** [fatcatresearch/cve-2024-45496](https://github.com/fatcatresearch/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---

## POC #3

**来源**: [CVE-2024-45496-pwnc4t_cve-2024-45496.md](../2024/CVE-2024-45496-pwnc4t_cve-2024-45496.md)

## CVE-2024-45496-OpenShift节点权限提升

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** OpenShift Container Platform

**危害等级:** 高危，可能导致节点完全控制

**影响版本:** 4.12.0 <= 版本 <= 4.18.0

**利用条件:** 需要具有开发人员权限的OpenShift账户

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2024-45496 存在于 OpenShift Container Platform 的构建过程中。攻击者利用该漏洞，可以通过构造恶意的 .gitconfig 文件，在 git clone 过程中执行任意命令，从而提升在构建节点上的权限。 

**有效性：**
提供的 Dockerfile 配合漏洞描述有效，因为攻击者可以利用`git clone`操作中的`.gitconfig`文件执行恶意代码。Dockerfile 可以用于构建包含恶意 `.gitconfig` 文件的镜像，当该镜像在 OpenShift 中用于构建任务时，将触发漏洞，导致节点权限提升。

**投毒风险：**
仅从 Dockerfile 来看，投毒风险较低。但是仍然存在10%的风险。攻击者可能通过以下方式进行投毒：
1.  **构建过程中注入恶意代码：** 攻击者可能在 Dockerfile 中添加额外的指令，例如在构建过程中下载并执行恶意脚本。
2.  **利用基础镜像漏洞：** 如果 Dockerfile 基于存在已知漏洞的基础镜像，攻击者可能利用这些漏洞进行攻击。

需要进一步检查构建镜像的源代码和依赖项，才能更准确评估投毒风险。

**利用方式：**
1.  **创建包含恶意 .gitconfig 文件的 Git 仓库：** 攻击者创建一个包含 `.gitconfig` 文件的 Git 仓库，该文件包含在 git clone 过程中执行任意命令的配置。
2.  **创建 OpenShift 构建配置：** 攻击者创建一个 OpenShift 构建配置，该配置指定使用包含恶意 .gitconfig 文件的 Git 仓库作为构建源。
3.  **触发构建：** 攻击者触发 OpenShift 构建。在构建过程中，git clone 命令会读取恶意 .gitconfig 文件，并执行其中的命令，从而导致节点权限提升。
4.  **权限提升：** 成功利用该漏洞后，攻击者可以在构建节点上执行任意命令，例如安装后门、窃取敏感数据等。

**项目地址:** [pwnc4t/cve-2024-45496](https://github.com/pwnc4t/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---



---

## POC #2

**来源**: [CVE-2024-45496-fatcatresearch_cve-2024-45496.md](../2024/CVE-2024-45496-fatcatresearch_cve-2024-45496.md)

## CVE-2024-45496-Openshift-controller-manager-Node Compromise

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** Openshift-controller-manager

**危害等级:** 高危，可能导致节点被完全控制

**影响版本:** 4.12.0 <= version <= 4.18.0

**利用条件:** 需要开发者权限

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2024-45496 是 OpenShift Container Platform 中存在的一个权限提升漏洞。攻击者利用开发者权限，可以通过构造恶意的 .gitconfig 文件，在构建过程中利用 git-clone 容器的特权安全上下文执行任意命令，最终导致 worker 节点被攻陷。

**漏洞利用方式：**

1.  攻击者拥有 OpenShift 的开发者权限。
2.  攻击者创建一个包含恶意 .gitconfig 文件的 Git 仓库。
3.  该 .gitconfig 文件包含在 git clone 过程中执行的命令。
4.  当 OpenShift 构建服务克隆该仓库时，git-clone 容器会执行 .gitconfig 文件中指定的恶意命令。
5.  由于 git-clone 容器具有特权安全上下文，这些命令在 worker 节点上以提升的权限执行，从而导致节点被攻陷。

**POC 代码分析：**

提供的 Dockerfile 用于演示漏洞，但它并没有直接包含恶意代码，而是设置 git 的全局 include.path 到一个固定的位置 `/etc/gitconfig/.gitconfig`。这个设置本身不是攻击，而是为攻击创造条件。攻击者需要能够控制或修改 `/etc/gitconfig/.gitconfig` 的内容，才能执行恶意代码。

Dockerfile 中后续的 git init 和 git status 只是为了触发 git 的配置读取。

最后，Dockerfile 会检查是否存在 `/tmp/configmap_seen` 文件，这似乎是为了验证配置是否被正确读取。如果文件不存在，说明配置读取失败，攻击可能无法成功。

**投毒风险分析：**

提供的 POC 代码本身没有包含任何直接执行恶意操作的代码，因此不存在直接的投毒风险。它仅仅是设置了一个 git 配置，并将命令执行依赖于外部的`/etc/gitconfig/.gitconfig` 文件，如果攻击者能够控制这个文件，就可以实现任意命令执行。


**项目地址:** [fatcatresearch/cve-2024-45496](https://github.com/fatcatresearch/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---

## POC #3

**来源**: [CVE-2024-45496-pwnc4t_cve-2024-45496.md](../2024/CVE-2024-45496-pwnc4t_cve-2024-45496.md)

## CVE-2024-45496-OpenShift节点权限提升

**漏洞编号:** CVE-2024-45496

**漏洞类型:** 权限提升

**影响应用:** OpenShift Container Platform

**危害等级:** 高危，可能导致节点完全控制

**影响版本:** 4.12.0 <= 版本 <= 4.18.0

**利用条件:** 需要具有开发人员权限的OpenShift账户

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2024-45496 存在于 OpenShift Container Platform 的构建过程中。攻击者利用该漏洞，可以通过构造恶意的 .gitconfig 文件，在 git clone 过程中执行任意命令，从而提升在构建节点上的权限。 

**有效性：**
提供的 Dockerfile 配合漏洞描述有效，因为攻击者可以利用`git clone`操作中的`.gitconfig`文件执行恶意代码。Dockerfile 可以用于构建包含恶意 `.gitconfig` 文件的镜像，当该镜像在 OpenShift 中用于构建任务时，将触发漏洞，导致节点权限提升。

**投毒风险：**
仅从 Dockerfile 来看，投毒风险较低。但是仍然存在10%的风险。攻击者可能通过以下方式进行投毒：
1.  **构建过程中注入恶意代码：** 攻击者可能在 Dockerfile 中添加额外的指令，例如在构建过程中下载并执行恶意脚本。
2.  **利用基础镜像漏洞：** 如果 Dockerfile 基于存在已知漏洞的基础镜像，攻击者可能利用这些漏洞进行攻击。

需要进一步检查构建镜像的源代码和依赖项，才能更准确评估投毒风险。

**利用方式：**
1.  **创建包含恶意 .gitconfig 文件的 Git 仓库：** 攻击者创建一个包含 `.gitconfig` 文件的 Git 仓库，该文件包含在 git clone 过程中执行任意命令的配置。
2.  **创建 OpenShift 构建配置：** 攻击者创建一个 OpenShift 构建配置，该配置指定使用包含恶意 .gitconfig 文件的 Git 仓库作为构建源。
3.  **触发构建：** 攻击者触发 OpenShift 构建。在构建过程中，git clone 命令会读取恶意 .gitconfig 文件，并执行其中的命令，从而导致节点权限提升。
4.  **权限提升：** 成功利用该漏洞后，攻击者可以在构建节点上执行任意命令，例如安装后门、窃取敏感数据等。

**项目地址:** [pwnc4t/cve-2024-45496](https://github.com/pwnc4t/cve-2024-45496)

**漏洞详情:** [CVE-2024-45496](https://nvd.nist.gov/vuln/detail/CVE-2024-45496)

---

