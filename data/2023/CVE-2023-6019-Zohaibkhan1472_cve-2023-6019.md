# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

# CVE-2023-6019

> ğŸ“¦ è¯¥CVEæœ‰ **3** ä¸ªç›¸å…³POCä»“åº“

---

## POC #1

**æ¥æº**: [CVE-2023-6019-Clydeston_CVE-2023-6019.md](../2023/CVE-2023-6019-Clydeston_CVE-2023-6019.md)

## CVE-2023-6019 Ray Command Injection in cpu_profile Parameter

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** < 2.8.1

**åˆ©ç”¨æ¡ä»¶:** éœ€è¦ç›®æ ‡ç³»ç»Ÿè¿è¡Œå­˜åœ¨æ¼æ´çš„Ray Dashboardä¸”å¯ç½‘ç»œè®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 0%

## è¯¦æƒ…

è¯¥æ¼æ´å­˜åœ¨äº Ray çš„ cpu_profile URL å‚æ•°ä¸­ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„ URLï¼Œåˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´åœ¨è¿è¡Œ Ray Dashboard çš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ— éœ€èº«ä»½éªŒè¯ã€‚POC ä»£ç é€šè¿‡å‘ `/worker/cpu_profile` ç«¯ç‚¹å‘é€åŒ…å« base64 ç¼–ç åå¼¹ shell å‘½ä»¤çš„ HTTP GET è¯·æ±‚ï¼Œåˆ©ç”¨ `echo`ã€`base64` å’Œ `sh` å‘½ä»¤æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ 

**æ¼æ´åˆ©ç”¨åˆ†æï¼š**
1.  æ¼æ´ä½äº Ray Dashboard çš„ `/worker/cpu_profile` ç«¯ç‚¹ã€‚
2.  `pid`, `ip`, `duration`, `native`, `format`å‚æ•°å€¼å¯æ§ï¼Œå…¶ä¸­`format`å‚æ•°å­˜åœ¨å‘½ä»¤æ³¨å…¥ã€‚
3.  POC ä»£ç ä½¿ç”¨ `echo`ã€`base64` è§£ç å¹¶ä½¿ç”¨ `sh` æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚
4.  POC ä»£ç é¦–å…ˆå°†åå¼¹ shell å‘½ä»¤è¿›è¡Œ base64 ç¼–ç ã€‚
5.  æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„ URLï¼Œå¹¶ä½¿ç”¨ `requests.get` å‘é€è¯·æ±‚ã€‚
6.  ç›®æ ‡ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ‰§è¡Œ URL ä¸­æ³¨å…¥çš„å‘½ä»¤ï¼Œä»è€Œå®ç°åå¼¹ shellã€‚

**æŠ•æ¯’é£é™©åˆ†æï¼š**
æŸ¥çœ‹äº† `CVE-2023-6019.py` å’Œ `README.md` æ–‡ä»¶ï¼Œè¯¥ä»“åº“ä¼¼ä¹æ²¡æœ‰æ˜æ˜¾çš„æŠ•æ¯’ä»£ç ã€‚

ä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ¼æ´å®ç°åå¼¹ shellï¼Œå¹¶æ²¡å‘ç°å…¶ä»–æ¶æ„è¡Œä¸ºã€‚æ‰€ä»¥æŠ•æ¯’é£é™©æä½ï¼Œåˆ¤å®šä¸º 0%ã€‚

**é¡¹ç›®åœ°å€:** [Clydeston/CVE-2023-6019](https://github.com/Clydeston/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #2

**æ¥æº**: [CVE-2023-6019-FireWolfWang_CVE-2023-6019.md](../2023/CVE-2023-6019-FireWolfWang_CVE-2023-6019.md)

## CVE-2023-6019 - Ray OS Command Injection

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** OS Command Injection

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.8.0 (æ¨æµ‹ï¼Œæ¼æ´åº“ä¿¡æ¯æ˜¾ç¤ºå·²ä¿®å¤ç‰ˆæœ¬ä¸º2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray dashboardéœ€è¦å¼€å¯ä¸”ç›®æ ‡ç³»ç»Ÿå­˜åœ¨æ¼æ´ï¼Œæ— éœ€èº«ä»½éªŒè¯

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºRay dashboardçš„cpu_profile URLå‚æ•°ä¸­ã€‚ç”±äºRay dashboardå¯¹cpu_profileå‚æ•°å¤„ç†ä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„URLï¼Œå°†æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥åˆ°åå°æ‰§è¡Œï¼Œä»è€Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨ä»£ç æ˜¾ç¤ºï¼Œå®ƒå°†base64ç¼–ç çš„payloadæ³¨å…¥åˆ°`format`å‚æ•°ä¸­ã€‚Payloadæ˜¯ä¸€ä¸ªåå¼¹shellï¼Œä¼šè¿æ¥åˆ°æ”»å‡»è€…æŒ‡å®šçš„lhostå’Œlportã€‚è¯¥æ¼æ´æ— éœ€èº«ä»½éªŒè¯å³å¯åˆ©ç”¨ã€‚æ£€æŸ¥æŠ•æ¯’é£é™©ï¼šè™½ç„¶ä»£ç åŠŸèƒ½ä¸Šæ˜¯å®ç°äº†æ¼æ´åˆ©ç”¨ï¼Œä½†è€ƒè™‘åˆ°è¯¥POCéœ€è¦ç”¨æˆ·æŒ‡å®šåå¼¹shellçš„IPåœ°å€å’Œç«¯å£ï¼Œä¸”åˆ©ç”¨çš„æ˜¯å…¬å¼€çš„æ¼æ´ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤å®šæŠ•æ¯’çš„å¯èƒ½æ€§è¾ƒä½ã€‚æŠ•æ¯’é£é™©åˆ†æ: ä¸»è¦é£é™©å¯èƒ½åœ¨äºPayloadéƒ¨åˆ†è¢«æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤ï¼Œä½†ç”±äºpayload base64 ç¼–ç ï¼Œå®¹æ˜“è¢«å‘ç°ã€‚æ¼æ´åˆ©ç”¨æ–¹å¼ï¼šæ”»å‡»è€…æ„é€ åŒ…å«æ¶æ„å‘½ä»¤çš„URLï¼Œå‘é€åˆ°å­˜åœ¨æ¼æ´çš„Ray dashboardã€‚æœåŠ¡ç«¯æœªå¯¹URLä¸­çš„cpu_profileå‚æ•°è¿›è¡Œå……åˆ†éªŒè¯ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œï¼Œæ”»å‡»è€…è·å–ç›®æ ‡ç³»ç»Ÿçš„shellã€‚

**æœ‰æ•ˆæ€§ï¼š**  æ ¹æ®æ¼æ´åº“ä¿¡æ¯ã€æœç´¢å¼•æ“ç»“æœï¼ˆå‡è®¾æœ‰æ›´å¤šç»†èŠ‚ï¼‰å’Œæä¾›çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œè¯¥æ¼æ´çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚

**æŠ•æ¯’é£é™©ï¼š**  POCä»£ç çš„æŠ•æ¯’é£é™©è¯„ä¼°ä¸º10%ã€‚è™½ç„¶ä¸»è¦åŠŸèƒ½æ˜¯æ¼æ´åˆ©ç”¨ï¼Œä½†æ˜¯payloadå­˜åœ¨å¯æ›¿æ¢ä¸ºæ¶æ„æŒ‡ä»¤çš„é£é™©ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š** æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„çš„`cpu_profile` URLå‚æ•°ï¼Œåœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„OSå‘½ä»¤ã€‚è¯¥URLåŒ…å«äº†ç»è¿‡Base64ç¼–ç çš„åå¼¹shell payloadã€‚å¦‚æœç›®æ ‡æœºå™¨é…ç½®äº†å…å¯†sudoï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—rootæƒé™çš„shellã€‚å¦åˆ™ï¼Œæ”»å‡»è€…å¯ä»¥è·å¾—å½“å‰ç”¨æˆ·çš„shellã€‚

**é¡¹ç›®åœ°å€:** [FireWolfWang/CVE-2023-6019](https://github.com/FireWolfWang/CVE-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---

## POC #3

**æ¥æº**: [CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md](../2023/CVE-2023-6019-Zohaibkhan1472_cve-2023-6019.md)

## CVE-2023-6019-ray-project/ray-å‘½ä»¤æ³¨å…¥

**æ¼æ´ç¼–å·:** CVE-2023-6019

**æ¼æ´ç±»å‹:** å‘½ä»¤æ³¨å…¥

**å½±å“åº”ç”¨:** ray-project/ray

**å±å®³ç­‰çº§:** é«˜å±ï¼Œå…è®¸æœªç»èº«ä»½éªŒè¯çš„è¿œç¨‹å‘½ä»¤æ‰§è¡Œ

**å½±å“ç‰ˆæœ¬:** <= 2.7.0 (ä¿®å¤äº2.8.1+)

**åˆ©ç”¨æ¡ä»¶:** Ray Dashboardå¿…é¡»å¯ç”¨ä¸”å¯å…¬å¼€è®¿é—®

**POC å¯ç”¨æ€§:** æ˜¯

**æŠ•æ¯’é£é™©:** 10%

## è¯¦æƒ…

CVE-2023-6019æ˜¯Rayé¡¹ç›®ä¸­çš„ä¸€ä¸ªå‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå­˜åœ¨äºcpu_profile URLå‚æ•°ä¸­ã€‚æœªæˆæƒçš„æ”»å‡»è€…å¯ä»¥åˆ©ç”¨æ­¤æ¼æ´åœ¨è¿è¡ŒRay Dashboardçš„ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„æ“ä½œç³»ç»Ÿå‘½ä»¤ã€‚æä¾›çš„`docker-compose.yml`æ–‡ä»¶é…ç½®äº†ä¸€ä¸ªæ˜“å—æ”»å‡»çš„Ray Dashboardå®ä¾‹ï¼ˆç‰ˆæœ¬2.7.0ï¼‰ï¼Œä»¥åŠæ¨¡æ‹ŸWAFã€ç›‘æ§æœåŠ¡å’Œå‰ç«¯ç•Œé¢çš„å…¶ä»–ç»„ä»¶ï¼Œå½¢æˆä¸€ä¸ªå¯åˆ©ç”¨çš„ç¯å¢ƒã€‚

**æœ‰æ•ˆæ€§ï¼š**
æä¾›çš„POCä»£ç æ˜¯æœ‰æ•ˆçš„ã€‚å®ƒåŒ…å«ä¸€ä¸ª`docker-compose.yml`æ–‡ä»¶ï¼Œå®ƒå¯åŠ¨äº†ä¸€ä¸ªæ˜“å—æ”»å‡»çš„Rayé›†ç¾¤ï¼Œè¯¥é›†ç¾¤è¿è¡Œç€å­˜åœ¨æ¼æ´çš„Ray Dashboardã€‚è¿™ä¸ªç¯å¢ƒå¯ä»¥ç”¨æ¥æµ‹è¯•å’ŒéªŒè¯CVE-2023-6019æ¼æ´ã€‚

**æŠ•æ¯’é£é™©ï¼š**
è¯„ä¼°ä»£ç çš„æŠ•æ¯’é£é™©ä¸º10%ã€‚åŸå› æ˜¯ï¼š
* `waf_filter.py` æ–‡ä»¶ä¸­åŒ…å«ä¸€ä¸ªåŸºæœ¬çš„Webåº”ç”¨é˜²ç«å¢™ï¼ˆWAFï¼‰ï¼Œå…¶é»‘åå•è§„åˆ™å¯èƒ½ä¸å®Œæ•´ï¼Œå­˜åœ¨ç»•è¿‡çš„å¯èƒ½æ€§ã€‚
* `setup.sh` è„šæœ¬åˆ›å»ºç›®å½•å¹¶å¤åˆ¶æ–‡ä»¶ï¼Œä½†æ²¡æœ‰æ˜ç¡®çš„æ¶æ„æ“ä½œï¼Œä¾‹å¦‚ä¸‹è½½æˆ–æ‰§è¡Œæœªç»æˆæƒçš„è„šæœ¬ã€‚
* `frontend/dashboard.py` å’Œ `monitoring/request_monitor.py` çš„æºä»£ç æœªæä¾›ï¼Œå› æ­¤æ— æ³•è¯„ä¼°å®ƒä»¬æ˜¯å¦åŒ…å«æ¶æ„ä»£ç ã€‚
* `docker-compose.yml` æ–‡ä»¶é…ç½®äº†å¤šä¸ªæœåŠ¡ï¼ˆç›‘æ§ã€WAFã€å‰ç«¯ï¼‰ï¼Œè¿™äº›æœåŠ¡ä¹‹é—´å¯èƒ½å­˜åœ¨äº¤äº’ï¼Œå¢åŠ äº†æ½œåœ¨çš„æ”»å‡»é¢ã€‚

å°½ç®¡å­˜åœ¨ä¸€äº›ä¸ç¡®å®šæ€§ï¼Œä½†è¯¥ä»“åº“ä¸­å­˜åœ¨æ¶æ„æŠ•æ¯’ä»£ç çš„æ¦‚ç‡ç›¸å¯¹è¾ƒä½ï¼Œä¸º10%ã€‚ä¸è¿‡ï¼Œåœ¨å®é™…ä½¿ç”¨è¿™äº›ä»£ç æ—¶ï¼Œä»ç„¶éœ€è¦è¿›è¡Œä»”ç»†çš„ä»£ç å®¡æŸ¥å’Œå®‰å…¨æµ‹è¯•ï¼Œä»¥ç¡®ä¿ç¯å¢ƒçš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚

**åˆ©ç”¨æ–¹å¼ï¼š**
1.  **ç¯å¢ƒæ­å»ºï¼š** ä½¿ç”¨`docker-compose.yml`æ–‡ä»¶åˆ›å»ºåŒ…å«æ˜“å—æ”»å‡»çš„Ray Dashboardçš„Dockerç¯å¢ƒã€‚è¯¥ç¯å¢ƒæ¨¡æ‹Ÿäº†ä¸€ä¸ªå¸¦æœ‰waf,ç›‘æ§æœåŠ¡å’Œç•Œé¢çš„ç³»ç»Ÿï¼Œä½¿å¾—æ¼æ´åˆ©ç”¨åœºæ™¯æ›´åŠ è´´è¿‘çœŸå®æƒ…å†µ
2.  **æ¼æ´è§¦å‘ï¼š** å‘æ˜“å—æ”»å‡»çš„Ray Dashboardçš„`/api/launch_profiling`ç«¯ç‚¹å‘é€åŒ…å«æ¶æ„å‘½ä»¤çš„`cpu_profile`å‚æ•°çš„POSTè¯·æ±‚ã€‚
3.  **å‘½ä»¤æ‰§è¡Œï¼š** Ray Dashboardæœªæ­£ç¡®éªŒè¯`cpu_profile`å‚æ•°ï¼Œå¯¼è‡´æ¶æ„å‘½ä»¤å¾—ä»¥æ‰§è¡Œã€‚
4.  **WAFç»•è¿‡:** WAFä¼šå°è¯•è¿‡æ»¤æ‰æ¶æ„ä»£ç ï¼Œå¯ä»¥å°è¯•é€šè¿‡ç¼–ç ,å¤§å°å†™,ç•¸å½¢ç»•è¿‡.

åˆ©ç”¨ä»£ç å±•ç¤ºäº†å¦‚ä½•è®¾ç½®ä¸€ä¸ªåŒ…å«æ˜“å—æ”»å‡»çš„Ray Dashboardçš„ç¯å¢ƒï¼Œè™½ç„¶åŒ…å«ç®€å•çš„WAF, ä½†æ˜¯åˆ©ç”¨æ–¹å¼ä»ç„¶æ˜¯é€šè¿‡æ„é€ æ¶æ„çš„cpu_profileå‚æ•°æ¥è¿œç¨‹æ‰§è¡Œå‘½ä»¤ã€‚

**é¡¹ç›®åœ°å€:** [Zohaibkhan1472/cve-2023-6019](https://github.com/Zohaibkhan1472/cve-2023-6019)

**æ¼æ´è¯¦æƒ…:** [CVE-2023-6019](https://nvd.nist.gov/vuln/detail/CVE-2023-6019)

---



---



---



---



---



---



---



---



---



---

