## CVE-2017-7529-Nginx-Integer Overflow

**漏洞编号:** CVE-2017-7529

**漏洞类型:** 整数溢出

**影响应用:** Nginx

**危害等级:** 中危，可能导致敏感信息泄露

**影响版本:** 0.5.6 - 1.13.2

**利用条件:** 需要目标服务器开启 Range Filter 模块

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2017-7529 是 Nginx Range Filter 模块中的一个整数溢出漏洞。当 Nginx 服务器处理带有特制 Range 头的 HTTP 请求时，模块中的整数计算可能发生溢出，导致服务器返回不正确的内容长度。这可能导致服务器泄露部分敏感信息。

**有效性：**
提供的 POC 代码似乎有效。它通过构造包含整数溢出值的 `Range` 头的 HTTP 请求来触发漏洞。代码首先发送一个基本的 HTTP 请求获取内容长度，然后计算溢出范围并再次发起请求。如果响应状态码为 206（Partial Content），并且响应头包含 `Content-Range` 字段，则判定目标存在漏洞。

**投毒风险：**
代码主要目的是验证 CVE-2017-7529 漏洞。检查代码后，没有发现任何明显的投毒迹象。该代码执行的操作都在预期范围内，包括发送 HTTP 请求和验证响应。因此，投毒风险评估为 0%。

**利用方式：**
1.  **确定目标 Nginx 版本：** 漏洞影响 Nginx 0.5.6 到 1.13.2 版本。可以通过查看 `Server` 响应头或者其它方式来判断目标版本是否受影响。
2.  **发送包含恶意 Range 头的 HTTP 请求：** 攻击者构造一个包含畸形 `Range` 头的 HTTP 请求，利用整数溢出漏洞导致 Nginx 服务器返回错误范围的内容。
3.  **获取敏感信息：** 成功利用漏洞后，服务器可能泄露一些缓存文件头或其它敏感信息。

**项目地址:** [daehee/nginx-overflow](https://github.com/daehee/nginx-overflow)

**漏洞详情:** [CVE-2017-7529](https://nvd.nist.gov/vuln/detail/CVE-2017-7529)