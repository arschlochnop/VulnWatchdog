## CVE-2024-32002 - Git Submodule RCE

**漏洞编号:** CVE-2024-32002

**漏洞类型:** 远程代码执行 (RCE)

**影响应用:** Git

**危害等级:** 严重，可能导致远程代码执行和系统完全控制

**影响版本:** 受影响版本包括2.45.0, 2.44.0, 2.43.0 < 2.43.4, 2.42.0 < 2.42.2, 2.41.0, 2.40.0 < 2.40.2, < 2.39.4

**利用条件:** 目标系统需要启用submodule和符号链接支持，且攻击者需要诱使用户克隆恶意构造的仓库。

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2024-32002 存在于 Git 中，允许攻击者通过恶意构造包含子模块的仓库，利用 Git 在不安全的上下文中写入文件的漏洞来执行任意代码。此漏洞利用了 Git 在处理子模块时的路径遍历缺陷，攻击者可以欺骗 Git 将恶意 hook 写入 `.git/` 目录而不是子模块的工作树中。当克隆操作仍在进行时，这些 hook 将被执行，使用户没有机会检查正在执行的代码。该漏洞主要影响启用了子模块和符号链接支持的系统。修复方法是升级到 Git 的安全版本(>=2.45.1, >=2.44.1, >=2.43.4, >=2.42.2, >=2.41.1, >=2.40.2, >=2.39.4) 或禁用符号链接支持(git config --global core.symlinks false)。

根据搜索引擎结果，该漏洞已得到广泛关注，并有公开的利用代码和分析文章。POC代码有效性高，能够实现远程代码执行。

该仓库的投毒风险较低，主要基于以下几点判断：

*   **代码来源：** POC代码引用了另一个开源项目，并提供了原始作者的博客链接，提高了透明度。
*   **免责声明：** 仓库包含明确的免责声明，强调仅用于教育和信息目的，禁止在未经授权的系统上运行。
*   **文件内容：** 仓库中主要包含漏洞说明和利用代码链接，没有发现额外的可疑文件或代码片段。
*   **作者信誉：** 缺乏对该仓库作者的信誉信息，无法进行有效判断。

由于缺乏直接的代码分析和作者信誉信息，无法完全排除投毒风险，但是考虑到以上的几点，判定投毒的可能性较低。建议在运行POC代码时，务必进行代码审计和安全评估，以避免潜在的风险。

**项目地址:** [bonnettheo/CVE-2024-32002](https://github.com/bonnettheo/CVE-2024-32002)

**漏洞详情:** [CVE-2024-32002](https://nvd.nist.gov/vuln/detail/CVE-2024-32002)