## CVE-2024-11392-HuggingFaceTransformers-反序列化RCE

**漏洞编号:** CVE-2024-11392

**漏洞类型:** 反序列化漏洞

**影响应用:** Hugging Face Transformers MobileViTV2

**危害等级:** 高危，远程代码执行

**影响版本:** 940fde8dafaecb8f17b588c5078291f1c1a420c8

**利用条件:** 需要用户交互：访问恶意页面或打开恶意文件

**POC 可用性:** 是

**投毒风险:** 20%

## 详情

CVE-2024-11392是Hugging Face Transformers MobileViTV2中的一个反序列化漏洞，允许远程攻击者在受影响的Hugging Face Transformers安装上执行任意代码。需要用户交互，目标用户必须访问恶意页面或打开恶意文件才能触发。该漏洞存在于配置文件的处理过程中，由于缺乏对用户提供数据的适当验证，导致可以反序列化不可信数据。攻击者可以利用此漏洞在当前用户的上下文中执行代码。

**有效性评估：**根据ZDI的描述和CVE库信息，该漏洞确实存在，且可以通过用户交互触发远程代码执行。根据提供的Dockerfile，漏洞利用代码尝试构建包含漏洞的vLLM版本，表明存在PoC。因此，漏洞利用的有效性较高。

**投毒风险评估：**提供的Dockerfile旨在构建一个包含漏洞的vLLM环境，用于漏洞测试和分析。Dockerfile中包含从GitHub克隆vLLM仓库的操作，并指定了特定的漏洞版本commit哈希值。如果`stuxbench/vLLM-copy`是被攻击者控制的仓库，那么确实存在投毒的风险。攻击者可能在这个仓库中植入恶意代码。Dockerfile中也存在下载外部依赖，也可能存在投毒的风险，综合估计投毒风险为20%。

**利用方式分析：**

1.  **攻击者准备：** 攻击者需要构造一个恶意的配置文件，其中包含可以触发任意代码执行的序列化数据。
2.  **攻击向量：** 攻击者可以通过恶意网站或恶意文件分发此配置文件。
3.  **用户交互：** 受害者需要访问包含恶意配置文件的网页，或者打开包含恶意配置文件的文件。
4.  **漏洞触发：** 当Hugging Face Transformers MobileViTV2加载并反序列化恶意配置文件时，将执行攻击者注入的恶意代码，从而实现远程代码执行。

**项目地址:** [stuxbench/vllm-cve-2024-11392](https://github.com/stuxbench/vllm-cve-2024-11392)

**漏洞详情:** [CVE-2024-11392](https://nvd.nist.gov/vuln/detail/CVE-2024-11392)