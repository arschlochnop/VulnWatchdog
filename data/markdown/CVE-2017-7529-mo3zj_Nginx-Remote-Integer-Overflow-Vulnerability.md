## CVE-2017-7529 - Nginx Range Filter Integer Overflow

**漏洞编号:** CVE-2017-7529

**漏洞类型:** Integer Overflow

**影响应用:** Nginx

**危害等级:** 中危，可能导致敏感信息泄露

**影响版本:** 0.5.6 - 1.13.2

**利用条件:** 需要Nginx服务器开启range filter模块并存在可访问的静态资源

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2017-7529是Nginx range filter模块中的一个整数溢出漏洞。攻击者可以通过发送特制的HTTP Range请求，利用整数溢出漏洞，读取到服务器上其他文件的部分内容，可能导致敏感信息泄露。利用方式主要是构造一个特殊的Range头，使得计算出的偏移量溢出，导致读取到预期范围之外的数据。

**有效性:**
提供的Python POC代码(CVE_2017_7529.py和dump.py)旨在利用该漏洞。通过构造特定的Range头，触发整数溢出，从而读取服务器内存中的数据。根据代码的逻辑，POC应该能够有效验证漏洞是否存在。

**投毒风险:**
分析三个文件：CVE_2017_7529.py, README.md, dump.py.

*   `CVE_2017_7529.py`: 这是一个主漏洞利用脚本，用于发送特制的HTTP请求以触发整数溢出漏洞。没有发现明显的恶意代码或后门。
*   `README.md`: 这是一个简单的说明文件，不包含任何可执行代码，因此没有投毒风险。
*   `dump.py`: 类似与CVE_2017_7529.py, 是一个辅助脚本，用于发送带有Range头的HTTP请求来尝试读取服务器内存中的数据.同样未发现任何异常行为

这三个文件中，虽然主要是漏洞验证代码，但仍不能完全排除存在作者恶意添加隐蔽代码的可能性。相对来说，投毒风险较低，但存在可能性。

**利用方式:**
1.  目标服务器运行受影响版本的Nginx，并开启了range filter模块。
2.  攻击者构造包含恶意Range头的HTTP请求，该Range头设计为触发整数溢出。
3.  Nginx服务器在处理Range请求时，由于整数溢出导致计算错误的偏移量。
4.  服务器返回的数据包含预期范围之外的数据，可能包含敏感信息。

**项目地址:** [mo3zj/Nginx-Remote-Integer-Overflow-Vulnerability](https://github.com/mo3zj/Nginx-Remote-Integer-Overflow-Vulnerability)

**漏洞详情:** [CVE-2017-7529](https://nvd.nist.gov/vuln/detail/CVE-2017-7529)