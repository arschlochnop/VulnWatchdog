## CVE-2017-0144 - Windows SMB 远程代码执行漏洞

**漏洞编号:** CVE-2017-0144

**漏洞类型:** 远程代码执行

**影响应用:** Windows SMBv1

**危害等级:** 高危，允许远程攻击者执行任意代码

**影响版本:** Windows Vista SP2; Windows Server 2008 SP2 and R2 SP1; Windows 7 SP1; Windows 8.1; Windows Server 2012 Gold and R2; Windows RT 8.1; and Windows 10 Gold, 1511, and 1607; Windows Server 2016

**利用条件:** 目标系统开启SMBv1服务，且攻击者能够访问445端口。

**POC 可用性:** 是

**投毒风险:** 5%

## 详情

CVE-2017-0144，又名“永恒之蓝”，是 Microsoft Windows SMBv1 服务器中的一个漏洞，允许远程攻击者通过精心构造的数据包执行任意代码。 搜索结果和漏洞库信息表明该漏洞影响多个版本的Windows。提供的漏洞利用代码 `check` 脚本片段，主要用于检测目标系统是否存在MS17-010漏洞，并且尝试寻找可访问的命名管道。虽然`check`脚本本身看起来没有恶意，但是，由于利用此漏洞可能执行任意代码，因此完整攻击链中可能包含恶意 payload。历史攻击事件表明，一些攻击者可能会利用此漏洞部署后门或恶意软件。因此，在使用任何相关exploit时，必须对其 payload 进行彻底审查。该仓库内投毒风险为5%，因为只包含检测脚本，风险较低，需要结合其他exploit框架使用，才具备攻击能力。

**利用方式:**

1.  **漏洞检测：** 使用类似于 `check` 的脚本检测目标系统是否存在漏洞（未安装MS17-010补丁）。
2.  **漏洞利用：** 利用 EternalBlue exploit 或类似工具，发送特制的 SMB 数据包，触发漏洞。
3.  **远程代码执行：** 成功利用漏洞后，攻击者可以在目标系统上执行任意代码，例如安装后门、窃取数据或传播恶意软件。


**项目地址:** [peterpt/eternal_scanner](https://github.com/peterpt/eternal_scanner)

**漏洞详情:** [CVE-2017-0144](https://nvd.nist.gov/vuln/detail/CVE-2017-0144)