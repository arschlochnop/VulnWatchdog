## WordPress Docker Compose 环境配置

**漏洞编号:** CVE-2024-835

**漏洞类型:** Docker Compose配置不当

**影响应用:** WordPress

**危害等级:** 中危，可能导致未经授权的访问或数据泄露

**影响版本:** 所有版本（如果使用默认配置）

**利用条件:** 需要目标系统上已部署Docker和Docker Compose

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

提供的代码是一个用于快速搭建WordPress开发环境的Docker Compose配置。它包括WordPress、phpMyAdmin和MySQL等服务。漏洞点在于，如果用户没有修改默认的`.env`配置文件，例如MySQL root密码，攻击者可以通过已知默认凭据访问数据库，从而控制WordPress站点。此外，如果直接将此配置部署到生产环境而未进行安全加固，会带来严重的安全风险。投毒风险主要考虑在`wp-app`目录中引入恶意代码的可能性，但这需要攻击者能够篡改用户本地的`wp-app`文件夹内容。因此，投毒风险较低，但仍需注意。

利用方式：
1.  如果目标使用了默认的MySQL root密码，攻击者可以直接使用默认密码连接到数据库。
2.  攻击者可以利用phpMyAdmin等工具直接操作数据库，例如修改管理员密码。
3.  攻击者可以在`wp-app`目录（即WordPress站点根目录）中放置恶意PHP文件，然后通过浏览器访问该文件执行任意代码。
4. 通过 volume 挂载恶意插件或者主题，达到RCE的目的

漏洞评估的有效性主要取决于用户是否修改了默认配置，以及是否将此配置直接用于生产环境。如果存在这些情况，则利用是有效的。

**项目地址:** [melmathari/dockerCVE-2024-835](https://github.com/melmathari/dockerCVE-2024-835)

**漏洞详情:** [CVE-2024-835](https://nvd.nist.gov/vuln/detail/CVE-2024-835)