## CVE-2017-0144-Windows SMB远程代码执行

**漏洞编号:** CVE-2017-0144

**漏洞类型:** 远程代码执行

**影响应用:** Windows SMBv1

**危害等级:** 高危，可能导致远程代码执行和系统完全控制

**影响版本:** Windows Vista SP2; Windows Server 2008 SP2 and R2 SP1; Windows 7 SP1; Windows 8.1; Windows Server 2012 Gold and R2; Windows RT 8.1; Windows 10 Gold, 1511, and 1607; Windows Server 2016

**利用条件:** 目标系统开启SMBv1服务，且攻击者能够访问445端口。

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2017-0144，又名EternalBlue，是一个存在于Windows SMBv1服务器中的远程代码执行漏洞。攻击者可以通过发送特制的SMB数据包利用此漏洞，从而在目标系统上执行任意代码。漏洞影响范围广泛，包括多个版本的Windows操作系统。提供的漏洞利用代码（EternalBlue Scanner）本身是一个扫描器，用于检测目标系统是否存在EternalBlue漏洞。该脚本尝试匿名登录目标系统的SMB服务，如果成功则认为目标存在漏洞。该扫描脚本并未直接执行任何利用操作，只是验证是否存在漏洞。根据漏洞库信息和搜索引擎结果，确认该漏洞是真实存在的，且有公开的利用代码。因此，利用的有效性较高。该工具的投毒风险较低，主要是扫描功能，但也存在潜在风险。因为扫描行为本身也可能导致目标系统不稳定或产生日志。攻击者可能将恶意代码嵌入到payload中进行进一步攻击。

**利用方式：**

1.  攻击者首先使用漏洞扫描工具（如提供的EternalBlue Scanner）扫描目标网络，查找存在SMBv1漏洞的系统。
2.  一旦找到目标，攻击者可以利用EternalBlue漏洞的exp（如MS17-010），通过特制的SMB数据包触发漏洞。
3.  成功利用漏洞后，攻击者可以在目标系统上执行任意代码，从而获得系统控制权。

由于脚本需要安装Impacket库，这个库如果从非官方渠道下载，可能存在风险。


**项目地址:** [MedX267/EternalBlue-Vulnerability-Scanner](https://github.com/MedX267/EternalBlue-Vulnerability-Scanner)

**漏洞详情:** [CVE-2017-0144](https://nvd.nist.gov/vuln/detail/CVE-2017-0144)