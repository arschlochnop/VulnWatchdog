## CVE-2024-42364-homepage-DNS Rebinding

**漏洞编号:** CVE-2024-42364

**漏洞类型:** DNS Rebinding

**影响应用:** homepage

**危害等级:** 中危，可能导致敏感信息泄露

**影响版本:** <= 0.9.1

**利用条件:** 用户必须访问攻击者控制的网站，且目标homepage实例未配置证书和身份验证

**POC 可用性:** 是

**投毒风险:** 95%

## 详情

根据漏洞库信息和搜索结果，CVE-2024-42364 是一个存在于 homepage 0.9.1 及以下版本的 DNS rebinding 漏洞。默认情况下，homepage 未配置证书和身份验证，攻击者可以诱使用户访问恶意网站，该网站会修改其域名的 DNS 记录，将其指向 homepage 实例的内部 IP 地址。由于缺乏身份验证，攻击者可以从 homepage 实例中提取敏感信息，例如 API 密钥和其他私有信息。

**有效性：** 根据漏洞信息描述和搜索结果，漏洞的有效性较高，利用条件相对简单。

**投毒风险：** 提供的漏洞利用代码 `CVE-2024-42364.rb` 实际上是针对 Discourse 的 SQL 注入漏洞（描述中涉及 Discourse SQL Injection via Search Parameters，且作者为 ibrahimsql），与 CVE-2024-42364 (homepage DNS rebinding) 完全不符。该代码尝试进行数据库类型检测，SQL注入测试等，并具有提取敏感数据、提权等功能，属于一个通用的 SQL 注入利用脚本。由于其针对的是完全不同的漏洞，可以认为该代码是存在较大概率被投毒的，存在误导性和潜在的危害性，可能造成攻击者利用错误的payload进行尝试，留下痕迹。

**利用方式：**

真正的 CVE-2024-42364 的利用方式是：

1.  攻击者搭建一个恶意网站。
2.  诱使用户访问该恶意网站。
3.  恶意网站通过 JavaScript 脚本修改其域名的 DNS 记录，将其指向目标 homepage 实例的内部 IP 地址。
4.  恶意网站向 homepage 实例发送请求，获取敏感信息。

而提供的错误POC代码如果直接执行，可能会针对Discourse程序发起SQL注入攻击，但不能利用DNS rebinding漏洞。


**项目地址:** [ibrahmsql/CVE-2024-42364](https://github.com/ibrahmsql/CVE-2024-42364)

**漏洞详情:** [CVE-2024-42364](https://nvd.nist.gov/vuln/detail/CVE-2024-42364)