## CVE-2017-8917 - Joomla 3.7.0 'com_fields' SQL注入

**漏洞编号:** CVE-2017-8917

**漏洞类型:** SQL注入

**影响应用:** Joomla

**危害等级:** 高危，可能导致数据泄露和远程代码执行

**影响版本:** 3.7.0 (受影响范围：3.7.x before 3.7.1)

**利用条件:** 目标服务器运行Joomla 3.7.0，且允许外部网络访问。

**POC 可用性:** 是

**投毒风险:** 5%

## 详情

CVE-2017-8917 是 Joomla 3.7.0 版本中 com_fields 组件的一个 SQL 注入漏洞。根据漏洞库信息和搜索引擎结果，该漏洞允许未经身份验证的攻击者执行任意 SQL 命令。提供的漏洞利用代码 (CVE-2017-8917.py)  利用了`com_fields` 组件中的 `list[fullordering]` 参数，通过构造恶意的 SQL 语句来提取数据库信息，包括数据库前缀、用户名、邮箱、密码哈希、数据库用户、数据库名和数据库版本。 

**有效性：**
该POC代码针对Joomla 3.7.0版本，利用了`com_fields`组件的SQL注入漏洞，通过构造特定的payload获取数据库信息，有效性较高。

**投毒风险：**
该POC代码主要用于信息提取，存在一定的风险，例如：
1.  **数据窃取风险：** 如果成功利用该漏洞，攻击者可以获取敏感的数据库信息，如用户名、密码哈希等，存在数据泄露风险。
2.  **二次利用风险：** 攻击者可能会利用获取到的信息进行二次攻击，例如破解密码、篡改数据等。

该仓库中是否存在作者隐藏的投毒代码可能性较低。该脚本的主要功能是利用已知的 SQL 注入漏洞提取数据库信息，并没有发现明显的后门或恶意代码。但仍需谨慎，可能存在编码陷阱或未知的潜在风险，例如对提取信息的处理不当，泄露攻击者的IP地址等。可能性评估：5%。

**利用方式：**
1.  确定目标Joomla网站的版本是否为3.7.0（或者3.7.x且小于3.7.1）。
2.  使用提供的Python脚本 (CVE-2017-8917.py)。
3.  运行脚本，输入目标Joomla网站的URL。
4.  脚本会利用 `com_fields` 组件的 SQL 注入漏洞，通过构造恶意的 `list[fullordering]` 参数，执行 SQL 查询并提取信息，包括数据库前缀、用户名、邮箱、密码哈希等。
5.  攻击者可以利用提取到的密码哈希进行破解，从而获得管理员权限。

**项目地址:** [Siopy/CVE-2017-8917](https://github.com/Siopy/CVE-2017-8917)

**漏洞详情:** [CVE-2017-8917](https://nvd.nist.gov/vuln/detail/CVE-2017-8917)