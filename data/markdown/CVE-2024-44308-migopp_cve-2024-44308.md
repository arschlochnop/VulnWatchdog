## CVE-2024-44308-JavaScriptCore-RCE

**漏洞编号:** CVE-2024-44308

**漏洞类型:** 远程代码执行 (RCE)

**影响应用:** Safari, macOS, iOS and iPadOS, visionOS (JavaScriptCore/WebKit)

**危害等级:** 高危，可导致任意代码执行

**影响版本:** Safari < 18.1.1, iOS and iPadOS < 17.7.2, iOS and iPadOS < 18.1.1, macOS Sequoia < 15.1.1, visionOS < 2.1.1

**利用条件:** 需要用户访问恶意构造的Web内容

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2024-44308是一个存在于Apple WebKit JavaScriptCore中的远程代码执行漏洞。漏洞成因是由于在处理恶意构造的Web内容时，未能进行充分的检查，导致攻击者可以执行任意代码。漏洞利用方式涉及精心构造的JavaScript代码，该代码利用了JavaScriptCore的JIT编译器中的逻辑错误。从提供的代码片段来看，利用方式可能涉及到堆栈操作，通过特定方式分配对象到栈上，并结合SharedArrayBuffer等特性，最终实现任意代码执行。Makefile文件中的JSC_FLAGS禁用了LLInt, BaselineJIT, FTLJIT, RegExpJIT, DOMJIT 等JIT引擎，可能是为了更稳定地触发漏洞。关于投毒风险，虽然poc代码本身旨在利用漏洞，但Makefile文件中存在从git重置HEAD操作，并且存在应用patch的操作，这些patch可能包含恶意代码，虽然概率不高，但存在潜在的投毒可能。TODO文件内容提示作者可能没有完全完成利用代码的整理，这增加了代码存在未知行为的可能性。因此，投毒风险评估为10%。需要注意的是，在实际利用过程中，攻击者需要诱骗用户访问包含恶意JavaScript代码的网页。

**项目地址:** [migopp/cve-2024-44308](https://github.com/migopp/cve-2024-44308)

**漏洞详情:** [CVE-2024-44308](https://nvd.nist.gov/vuln/detail/CVE-2024-44308)