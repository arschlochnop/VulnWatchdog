## CVE-2025-48384-Git配置注入与任意代码执行

**漏洞编号:** CVE-2025-48384

**漏洞类型:** 配置注入/任意代码执行

**影响应用:** Git

**危害等级:** 高危，可能导致远程代码执行和系统被控制

**影响版本:** < 2.43.7, >= 2.44.0-rc0, < 2.44.4, >= 2.45.0-rc0, < 2.45.4, >= 2.46.0-rc0, < 2.46.4, >= 2.47.0-rc0, < 2.47.3, >= 2.48.0-rc0, < 2.48.2, >= 2.49.0-rc0, < 2.49.1, >= 2.50.0-rc0, < 2.50.1

**利用条件:** 需要用户clone包含恶意配置的Git仓库或者提交包含恶意配置的patch

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2025-48384 漏洞源于 Git 在处理配置文件时，没有正确处理回车符 \r，导致在特定情况下（如初始化包含子模块的仓库时），子模块路径被错误解析。攻击者可以利用这一点，通过在子模块路径中注入恶意字符，配合精心构造的符号链接，将子模块检出到非预期位置，例如 Git 钩子目录。如果子模块包含恶意的 post-checkout 钩子脚本，则在检出后会被执行，从而实现任意代码执行。

**有效性评估：**
根据漏洞信息和搜索结果，此漏洞的利用需要满足一定条件，即需要用户 clone 包含恶意子模块配置的仓库或者提交包含恶意配置的patch。提供的 POC 代码 `/tmp/8746716955bead91920f029f2728e38d/README.md` 仅仅是一个 README 文件，本身不具备任何攻击性，因此不能直接作为有效的 POC。

**投毒风险评估：**
提供的 POC 代码只是一个简单的 README 文件，没有任何可执行代码，因此不存在直接的投毒风险。投毒行为可能存在于更复杂的攻击场景中，比如在精心构造的恶意 Git 仓库中，但仅凭这个 README 文件无法评估其风险。

**利用方式：**
1.  攻击者创建一个包含恶意子模块配置的 Git 仓库，子模块的路径包含回车符 \r。
2.  攻击者创建一个符号链接，将修改后的子模块路径指向 Git 钩子目录（.git/hooks）。
3.  攻击者在子模块中包含一个恶意的 post-checkout 钩子脚本。
4.  受害者 clone 该恶意仓库，Git 初始化子模块时，由于回车符处理不当，子模块被检出到错误的钩子目录。
5.  检出完成后，恶意的 post-checkout 钩子脚本被执行，攻击者从而实现任意代码执行。

**项目地址:** [elprogramadorgt/CVE-2025-48384](https://github.com/elprogramadorgt/CVE-2025-48384)

**漏洞详情:** [CVE-2025-48384](https://nvd.nist.gov/vuln/detail/CVE-2025-48384)