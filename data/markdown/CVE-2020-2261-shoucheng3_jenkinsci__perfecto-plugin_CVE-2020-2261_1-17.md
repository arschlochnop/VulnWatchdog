## CVE-2020-2261 Jenkins Perfecto Plugin 命令注入

**漏洞编号:** CVE-2020-2261

**漏洞类型:** 命令注入

**影响应用:** Jenkins Perfecto Plugin

**危害等级:** 高危，可能导致远程代码执行

**影响版本:** <= 1.17

**利用条件:** 需要Job/Configure权限

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2020-2261 存在于 Jenkins Perfecto Plugin 1.17 及更早版本中。具有 Job/Configure 权限的攻击者可以在 Jenkins 控制器上执行任意命令。漏洞原因是插件在处理某些参数时，没有进行充分的过滤，导致可以注入操作系统命令。 

**有效性：**
根据漏洞信息和搜索结果，该漏洞是真实存在的，并且已经公开。漏洞利用代码展示了一个`Jenkinsfile`，其中包含`buildPlugin`函数，这表明攻击者可以通过构建一个恶意的 Jenkins Pipeline 来触发漏洞，在 Jenkins 服务器上执行恶意代码。因此，POC代码的有效性很高。

**投毒风险：**
提供的代码片段主要包含了一个 `Jenkinsfile` 和一个 `LICENSE.md` 文件。`LICENSE.md` 文件是 Apache 2.0 许可协议，没有恶意代码。`Jenkinsfile` 文件包含 `buildPlugin(platforms: ['linux'])` 这行代码，这可能与漏洞利用有关，但本身并不构成投毒。目前的分析表明，没有发现明显的投毒代码。因此，投毒风险较低。

**利用方式：**
1.  **权限获取：** 攻击者需要具备 Jenkins 中 Job/Configure 权限。
2.  **构建恶意 Pipeline：** 攻击者创建一个包含恶意代码的 Jenkins Pipeline，利用 `buildPlugin` 函数，或者其他存在漏洞的函数，注入操作系统命令。
3.  **触发漏洞：** 运行该 Pipeline，触发漏洞，在 Jenkins 控制器上执行任意命令。
4.  **控制服务器：** 成功利用漏洞后，攻击者可以完全控制 Jenkins 控制器，从而窃取敏感信息、安装恶意软件，或执行其他恶意操作。

**项目地址:** [shoucheng3/jenkinsci__perfecto-plugin_CVE-2020-2261_1-17](https://github.com/shoucheng3/jenkinsci__perfecto-plugin_CVE-2020-2261_1-17)

**漏洞详情:** [CVE-2020-2261](https://nvd.nist.gov/vuln/detail/CVE-2020-2261)