## CVE-2024-32002-Git-RCE

**漏洞编号:** CVE-2024-32002

**漏洞类型:** 远程代码执行 (RCE)

**影响应用:** Git

**危害等级:** 高危，可导致远程代码执行

**影响版本:** 2.39.4之前, 2.40.0 < version < 2.40.2, 2.41.0, 2.42.0 < version < 2.42.2, 2.43.0 < version < 2.43.4, 2.44.0, 2.45.0, <= 2.45.0

**利用条件:** 需要目标系统使用受影响的Git版本，且文件系统区分大小写并支持符号链接，攻击者可控的Git仓库。

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2024-32002是一个Git中的远程代码执行漏洞，该漏洞源于Git处理包含子模块的仓库时存在缺陷。攻击者可以构造恶意仓库，利用子模块机制，将恶意文件写入`.git/`目录而不是子模块的工作目录。由于`.git/`目录下的文件可能包含Git钩子(hooks)，这些钩子会在特定的Git操作期间被执行，从而导致任意代码执行。如果目标系统禁用了符号链接（`core.symlinks = false`），则该漏洞无法利用。从搜索结果和漏洞描述来看，多个安全厂商和社区已经公开了漏洞分析和利用方法，证明了该漏洞的有效性。提供的漏洞利用代码是Apache License 2.0的许可协议，并非实际的PoC代码，因此无法直接评估投毒风险。但根据漏洞原理，攻击者需要在恶意仓库中植入恶意的子模块和钩子脚本，才能实现远程代码执行。由于提供的代码是许可证文件，所以投毒风险判定为0%。漏洞利用方式：1. 构造包含恶意子模块的Git仓库。2. 在恶意子模块中包含恶意的Git钩子（例如 pre-commit, post-receive等）。3. 诱导受害者克隆该恶意仓库并递归初始化子模块。4. 当Git执行相关操作时，恶意的钩子脚本被触发，导致远程代码执行。

**项目地址:** [XiaomingX/cve-2024-32002-poc](https://github.com/XiaomingX/cve-2024-32002-poc)

**漏洞详情:** [CVE-2024-32002](https://nvd.nist.gov/vuln/detail/CVE-2024-32002)