## CVE-2017-0143 Windows SMB 远程代码执行漏洞

**漏洞编号:** CVE-2017-0143

**漏洞类型:** 远程代码执行

**影响应用:** Windows SMBv1

**危害等级:** 高危，可能导致远程代码执行和系统完全控制

**影响版本:** Windows Vista SP2; Windows Server 2008 SP2 and R2 SP1; Windows 7 SP1; Windows 8.1; Windows Server 2012 Gold and R2; Windows RT 8.1; and Windows 10 Gold, 1511, and 1607; and Windows Server 2016

**利用条件:** 目标系统开启SMBv1服务，攻击者可网络访问目标系统

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2017-0143 漏洞存在于 Microsoft Windows 的 SMBv1 服务器中，允许远程攻击者通过精心构造的数据包执行任意代码。该漏洞与 WannaCry 勒索软件的传播密切相关，利用 EternalBlue 漏洞利用工具进行攻击。

**有效性：**
根据漏洞库信息和搜索结果，该漏洞影响多个版本的 Windows 系统，并且已经存在公开的漏洞利用代码，证明其有效性。

**投毒风险：**
提供的漏洞利用代码(实际上只是一个关于EternalBlue的README文件)本身并不包含恶意代码，只是一个报告文档，引用了一些外部链接。但是，引用外部链接存在一定的投毒风险，因为链接的网站可能已经被篡改，或者链接指向恶意软件。所以投毒风险评估为10%。

**利用方式：**
攻击者可以通过发送特制的 SMB 数据包到目标系统的 445 端口，触发漏洞，从而在目标系统上执行任意代码。攻击通常涉及以下步骤：
1.  扫描目标系统，确定是否存在 SMBv1 漏洞。
2.  使用 EternalBlue 漏洞利用工具，发送恶意 SMB 数据包。
3.  成功利用漏洞后，攻击者可以在目标系统上执行任意代码，例如安装恶意软件或窃取敏感数据。

**缓解措施：**
1.  禁用 SMBv1 服务。
2.  安装 Microsoft 提供的安全更新 MS17-010。
3.  使用防火墙限制对 445 端口的访问。

**项目地址:** [Cedric-Martz/EthernalBlue_report](https://github.com/Cedric-Martz/EthernalBlue_report)

**漏洞详情:** [CVE-2017-0143](https://nvd.nist.gov/vuln/detail/CVE-2017-0143)