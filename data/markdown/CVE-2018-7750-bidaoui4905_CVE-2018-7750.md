## CVE-2018-7750-Paramiko-认证绕过

**漏洞编号:** CVE-2018-7750

**漏洞类型:** 认证绕过

**影响应用:** Paramiko

**危害等级:** 高危，可能导致未授权访问和远程代码执行

**影响版本:** Paramiko 1.17.6之前, 1.18.x before 1.18.5, 2.0.x before 2.0.8, 2.1.x before 2.1.5, 2.2.x before 2.2.3, 2.3.x before 2.3.2, 和 2.4.x before 2.4.1

**利用条件:** 需要目标SSH服务运行在存在漏洞的Paramiko版本上，并且允许TCP连接。

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2018-7750 是 Paramiko SSH 服务器实现中的一个认证绕过漏洞。该漏洞是由于 `transport.py` 文件未在处理其他请求之前正确检查身份验证是否已完成导致的。攻击者可以通过自定义SSH客户端跳过身份验证步骤，直接发送 channel-open 等请求来利用此漏洞。

**漏洞利用有效性：**

根据漏洞描述和搜索引擎结果（例如，[webpage 7 begin] [title] An RCE Approach of CVE-2018-7750），提供的 PoC 代码可能有效。该 PoC 代码尝试在未经身份验证的情况下，通过直接发送认证成功的消息来绕过身份验证，然后执行命令。如果目标服务器存在漏洞且未进行修复，此 PoC 可能允许攻击者未经授权地执行命令。

**投毒风险：**

PoC 代码分析：

*   代码主要用于建立 TCP 连接，初始化 Paramiko transport，然后模拟身份验证成功的消息。
*   之后，它尝试打开一个会话并执行命令 (`ifconfig -a`)。
*   代码的目的是验证是否可以在未经身份验证的情况下执行命令。

代码中没有明显的恶意行为，例如：

*   没有尝试下载或执行其他文件。
*   没有修改系统配置。
*   没有向外部服务器发送敏感数据。

因此，此 PoC 代码**没有发现投毒风险**，投毒风险为 0%。该代码仅用于验证漏洞的存在性，不包含其他恶意功能。

**漏洞利用方式：**

1.  **建立TCP连接：** 攻击者首先与目标SSH服务器建立TCP连接。
2.  **初始化Transport：** 使用Paramiko库初始化 SSH transport。
3.  **跳过身份验证：** 攻击者不执行通常的身份验证过程，而是直接构造一个表示身份验证成功的消息。
4.  **发送伪造的认证成功消息：**  将伪造的身份验证成功消息发送到服务器。
5.  **打开会话并执行命令：**  如果服务器存在漏洞，它将接受此消息并允许攻击者打开一个会话并执行任意命令。

**项目地址:** [bidaoui4905/CVE-2018-7750](https://github.com/bidaoui4905/CVE-2018-7750)

**漏洞详情:** [CVE-2018-7750](https://nvd.nist.gov/vuln/detail/CVE-2018-7750)