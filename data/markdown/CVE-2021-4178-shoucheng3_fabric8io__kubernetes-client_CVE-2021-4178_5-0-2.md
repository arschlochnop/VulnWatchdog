## CVE-2021-4178 - fabric8 kubernetes-client 反序列化漏洞

**漏洞编号:** CVE-2021-4178

**漏洞类型:** 反序列化漏洞

**影响应用:** fabric8 kubernetes-client

**危害等级:** 高危，可导致任意代码执行

**影响版本:** 5.0.0-beta-1 及以上，5.0.3 之前

**利用条件:** 需要本地或特权用户能够提供恶意YAML文件

**POC 可用性:** 是

**投毒风险:** 10%

## 详情

CVE-2021-4178 存在于 Fabric8 Kubernetes 客户端中，由于不安全的 YAML 反序列化导致任意代码执行。攻击者可以构造恶意的 YAML 文件，利用 SnakeYAML 默认构造器进行反序列化，从而执行任意代码。漏洞利用代码提供的 CHANGELOG.md 文件并不能直接证明漏洞利用方式, 但是可以通过搜索结果中的描述来确认漏洞原理. 漏洞利用需要攻击者具有一定的权限来提交恶意的 YAML 文件，因此利用条件相对苛刻。

**有效性：** 根据漏洞库信息和搜索结果，漏洞是有效的，并且存在公开的利用方式。

**投毒风险：** 提供的代码片段是 CHANGELOG.md，仅仅是历史版本更新的记录，本身不包含恶意代码，因此直接进行投毒的可能性较低。投毒风险较低，评估为10%，主要考虑攻击者可能在构造的恶意YAML文件中包含恶意代码。

**利用方式：** 攻击者构造包含恶意代码的 YAML 文件，该文件在被 Fabric8 Kubernetes 客户端解析时，由于 SnakeYAML 默认构造器的不安全反序列化，会导致恶意代码执行。

**项目地址:** [shoucheng3/fabric8io__kubernetes-client_CVE-2021-4178_5-0-2](https://github.com/shoucheng3/fabric8io__kubernetes-client_CVE-2021-4178_5-0-2)

**漏洞详情:** [CVE-2021-4178](https://nvd.nist.gov/vuln/detail/CVE-2021-4178)