## CVE-2025-57833-Django-SQL注入

**漏洞编号:** CVE-2025-57833

**漏洞类型:** SQL注入

**影响应用:** Django

**危害等级:** 高危，可能导致数据泄露和未经授权的数据访问

**影响版本:** 4.2 < 4.2.24, 5.1 < 5.1.12, 5.2 < 5.2.6

**利用条件:** 需要应用部署在存在漏洞的版本上，并可以通过HTTP请求访问存在漏洞的URL。

**POC 可用性:** 是

**投毒风险:** 5%

## 详情

CVE-2025-57833是Django框架中的一个SQL注入漏洞，影响版本4.2.x (低于4.2.24), 5.1.x (低于5.1.12), 和 5.2.x (低于5.2.6)。该漏洞存在于`FilteredRelation`和`QuerySet.annotate()`或`QuerySet.alias()`的使用中，攻击者可以通过构造特殊的字典参数，利用字典展开(**kwargs)的方式，注入恶意的SQL代码。漏洞利用方式是通过向存在漏洞的视图函数(例如`vuln_view`)发送带有恶意`param`参数的HTTP GET请求，该参数会被用于`QuerySet.alias()`，从而导致SQL注入。

**有效性评估：**
提供的Dockerfile和相关代码构成了一个有效的POC。Dockerfile用于构建包含漏洞Django版本的环境，`vulnproj/books/views.py`中的`vuln_view`函数是存在漏洞的代码点，它接受GET请求的`param`参数，并将其直接用于`alias()`函数中，从而造成SQL注入。`exploit.sh`脚本展示了如何通过curl发送带有恶意参数的HTTP请求。

**投毒风险评估：**
该仓库的投毒风险较低，约为5%。 代码库主要包含用于重现和利用漏洞的标准Django项目文件（models.py, views.py, manage.py, settings.py 等）。`exploit.sh` 本身是一个良性的利用脚本。尽管存在恶意利用的可能，但没有发现任何明确的后门或恶意代码。 seed.json 是初始化数据的，不太可能藏毒.  整体代码库的结构和内容与漏洞利用相关，没有发现刻意隐藏的恶意代码。

**利用方式总结：**
1.  目标应用必须使用存在漏洞的Django版本（4.2 < 4.2.24, 5.1 < 5.1.12, 5.2 < 5.2.6）。
2.  攻击者需要能够通过HTTP请求访问存在漏洞的URL（例如`/vuln/`）。
3.  攻击者构造包含恶意SQL代码的字符串，并将其作为`param`参数的值传递给目标URL。
4.  Django应用在执行`QuerySet.alias()`时，会将恶意SQL代码注入到SQL查询语句中。
5.  攻击者可以利用SQL注入漏洞执行任意SQL命令，例如提取数据库中的敏感数据或者修改数据。

**项目地址:** [ianoboyle/CVE-2025-57833](https://github.com/ianoboyle/CVE-2025-57833)

**漏洞详情:** [CVE-2025-57833](https://nvd.nist.gov/vuln/detail/CVE-2025-57833)