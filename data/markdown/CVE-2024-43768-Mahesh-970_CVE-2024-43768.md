## CVE-2024-43768-Android-Skia-OOB-Write

**漏洞编号:** CVE-2024-43768

**漏洞类型:** 越界写

**影响应用:** Android Skia

**危害等级:** 高危，本地提权

**影响版本:** Android 12, 12L, 13, 14, 15

**利用条件:** 本地访问

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2024-43768是Android Skia图形库中的一个越界写漏洞。漏洞位于`SkDeflate.cpp`的`skia_alloc_func`函数中，由于整数溢出，可能导致越界写入。 

**有效性：**
根据漏洞信息和POC代码，该漏洞利用是有效的。漏洞库信息表明该漏洞会导致本地权限提升，且无需用户交互。POC代码展示了受影响的`skia_alloc_func`函数，该函数在进行内存分配时存在整数溢出风险，可能导致分配的内存空间小于实际需要，从而导致后续的越界写入。

**投毒风险：**
分析提供的POC代码，没有发现明显的投毒代码。代码主要展示了`skia_alloc_func`函数的实现，以及`SkDeflateWStream`类的相关实现，用于数据的压缩和解压缩。代码逻辑比较清晰，没有发现恶意行为。因此，投毒风险评估为0%。

**利用方式：**
1.  **触发整数溢出：** 攻击者需要构造特定的输入数据，使得在`skia_alloc_func`函数中计算内存分配大小时发生整数溢出。
2.  **越界写入：** 由于整数溢出导致分配的内存空间不足，攻击者可以通过写入超过分配大小的数据来覆盖相邻的内存区域。
3.  **权限提升：** 通过覆盖特定的内存区域，攻击者可以修改程序逻辑或控制流程，从而实现本地权限提升。由于Skia库在Android系统中被广泛使用，成功利用该漏洞可能导致攻击者获取系统权限。

**项目地址:** [Mahesh-970/CVE-2024-43768](https://github.com/Mahesh-970/CVE-2024-43768)

**漏洞详情:** [CVE-2024-43768](https://nvd.nist.gov/vuln/detail/CVE-2024-43768)