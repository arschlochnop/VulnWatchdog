## CVE-2023-34478-Apache Shiro路径遍历导致认证绕过

**漏洞编号:** CVE-2023-34478

**漏洞类型:** 路径遍历

**影响应用:** Apache Shiro

**危害等级:** 高危，可能导致认证绕过

**影响版本:** < 1.12.0, < 2.0.0-alpha-3

**利用条件:** 需要Apache Shiro与基于非规范化请求路由的API或其他Web框架一起使用

**POC 可用性:** 是

**投毒风险:** 5%

## 详情

CVE-2023-34478 存在于Apache Shiro 1.12.0之前和2.0.0-alpha-3之前的版本中。当 Apache Shiro 与 API 或其他 Web 框架一起使用时，它可能容易受到路径遍历攻击，从而导致认证绕过，这些 API 或其他 Web 框架基于非规范化的请求路由请求。

**有效性：**
根据漏洞库信息和搜索结果，此漏洞是真实存在的，并且危害等级较高。搜索结果中也提到了漏洞的细节、利用方式和修复建议。提供的漏洞利用代码是一个关于如何向 Apache Shiro 项目贡献代码的文档，而非直接的POC代码，因此，有效性需要通过构造特定的包含路径遍历的恶意请求进行验证。根据其他搜索结果，确认此漏洞存在有效的利用方式。

**投毒风险：**
提供的代码是 Shiro 的贡献指南，虽然本身不是利用代码，但仍存在一定的投毒风险，比如在示例或指南中包含恶意链接或命令。然而，由于主要内容是贡献流程，投毒的可能性较低。初步评估投毒风险为 5%。

**利用方式：**
此漏洞是由于Apache Shiro在处理URL路径时，没有进行严格的规范化处理，导致攻击者可以通过构造包含`../`等路径遍历字符的恶意URL，绕过Shiro的认证和授权机制，访问未授权的资源。需要注意的是，此漏洞的利用依赖于Shiro与其它web框架结合使用，且这些web框架基于未规范化的请求进行路由。

**搜索引擎结果优先级：**
* 搜索引擎结果提供了漏洞的详细信息、影响、利用方式和修复建议，优先级最高。
* 漏洞利用代码（贡献指南）：虽然不是直接的POC，但提供了了解项目结构和可能的攻击面的线索，优先级次之。
* 漏洞库信息：提供了漏洞的基本描述和受影响的版本，优先级最低。

**项目地址:** [shoucheng3/apache__shiro_CVE-2023-34478_1-11-0](https://github.com/shoucheng3/apache__shiro_CVE-2023-34478_1-11-0)

**漏洞详情:** [CVE-2023-34478](https://nvd.nist.gov/vuln/detail/CVE-2023-34478)