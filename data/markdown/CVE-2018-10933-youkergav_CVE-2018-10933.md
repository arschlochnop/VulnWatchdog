## CVE-2018-10933-libssh-Authentication Bypass

**漏洞编号:** CVE-2018-10933

**漏洞类型:** Authentication Bypass

**影响应用:** libssh

**危害等级:** 高危，未经授权的访问

**影响版本:** 0.6 - 0.7.6, 0.8 - 0.8.4

**利用条件:** 目标服务器运行受影响的libssh版本，且允许网络访问

**POC 可用性:** 是

**投毒风险:** 0%

## 详情

CVE-2018-10933 是 libssh 库中的一个身份验证绕过漏洞。通过发送 `SSH2_MSG_USERAUTH_SUCCESS` 消息来代替预期的 `SSH2_MSG_USERAUTH_REQUEST` 消息，攻击者可以在无需任何凭据的情况下成功通过身份验证。

**有效性：**
根据提供的漏洞信息、搜索结果和漏洞利用代码，此POC代码是有效的。漏洞利用代码中的 `exploit.py` 脚本通过建立连接，然后直接发送 `SSH2_MSG_USERAUTH_SUCCESS` 消息来绕过身份验证。

**投毒风险：**
检查提供的文件，包括 `README.md`, `Dockerfile`, 两个 `.patch` 文件, `docker-compose.yml` 和 `exploit/exploit.py`。
*   `README.md`: 仅包含漏洞描述、安装说明和credits，没有恶意代码。
*   `Dockerfile`: 用于构建包含漏洞libssh的Docker镜像，包含官方的patch文件，没有发现恶意代码。
*   `cve-2018-10933.patch`: 这个patch文件是用来模拟服务端接收到SSH2_MSG_USERAUTH_SUCCESS后，直接认证成功的场景，是漏洞利用的一部分，不是恶意代码。
*   `server.patch`: 这个patch文件是对examples/ssh_server_fork.c的修改，目的是在未经授权的情况下允许建立channel。
*   `docker-compose.yml`: 用于定义和运行Docker容器，没有恶意代码。
*   `exploit/exploit.py`: 此脚本通过直接发送 `SSH2_MSG_USERAUTH_SUCCESS` 消息来利用漏洞，没有发现任何投毒代码。

综合分析，**投毒风险为0%**。提供的代码旨在演示漏洞利用，而非包含恶意payload。

**利用方式：**
1.  攻击者建立与目标服务器的SSH连接。
2.  攻击者不发送标准的身份验证请求，而是直接发送 `SSH2_MSG_USERAUTH_SUCCESS` 消息。
3.  由于漏洞，目标服务器错误地将攻击者视为已通过身份验证。
4.  攻击者现在可以执行未经授权的操作。

**项目地址:** [youkergav/CVE-2018-10933](https://github.com/youkergav/CVE-2018-10933)

**漏洞详情:** [CVE-2018-10933](https://nvd.nist.gov/vuln/detail/CVE-2018-10933)